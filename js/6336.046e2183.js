"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["6336"],{20489:function(e,l,a){var t=a(62438),i=a.n(t),s=a(65271),o=a.n(s)()(i());o.push([e.id,".permissions-container[data-v-1d1eddf4]{padding:20px}.permissions-container .el-tag[data-v-1d1eddf4]{margin-bottom:5px}",""]),l.A=o},85491:function(e,l,a){a.r(l),a.d(l,{default:function(){return h}});var t=a(86549);let i={class:"permissions-container"},s={class:"dialog-footer"},o={class:"dialog-footer"};var r=a(7368),d=a.n(r),n=a(60473),u=a.n(n),m=a(62915),b=a.n(m),p=a(14808),c=a.n(p),k=a(85364),f=a.n(k),g=a(78577),_=a.n(g),F=a(20489),V={};V.styleTagTransform=_(),V.setAttributes=c(),V.insert=b().bind(null,"head"),V.domAPI=u(),V.insertStyleElement=f(),d()(F.A,V),F.A&&F.A.locals&&F.A.locals;var h=(0,a(53438).default)({name:"Permissions",data:()=>({activeTab:"role",roleDialogVisible:!1,userDialogVisible:!1,currentRole:{id:"",name:"",permissions:[]},currentUser:{id:"",name:"",email:"",roles:[]},roles:[{id:"1",name:"管理员",permissions:["user:create","user:edit","user:delete","role:assign"]},{id:"2",name:"编辑者",permissions:["user:create","user:edit"]},{id:"3",name:"访客",permissions:[]}],users:[{id:"1",name:"张三",email:"zhangsan@example.com",roles:["1"]},{id:"2",name:"李四",email:"lisi@example.com",roles:["2"]},{id:"3",name:"王五",email:"wangwu@example.com",roles:["3"]}],permissionMap:{"user:create":"创建用户","user:edit":"编辑用户","user:delete":"删除用户","role:assign":"分配角色"},roleMap:{1:"管理员",2:"编辑者",3:"访客"}}),methods:{editRole(e){this.currentRole={...e},this.roleDialogVisible=!0},deleteRole(e){this.$message.warning(`删除角色: ${e.name}`)},saveRole(){this.$message.success("角色保存成功"),this.roleDialogVisible=!1},editUser(e){this.currentUser={...e},this.userDialogVisible=!0},deleteUser(e){this.$message.warning(`删除用户: ${e.name}`)},saveUser(){this.$message.success("用户保存成功"),this.userDialogVisible=!1}}},[["render",function(e,l,a,r,d,n){let u=(0,t.g2)("el-table-column"),m=(0,t.g2)("el-tag"),b=(0,t.g2)("el-button"),p=(0,t.g2)("el-table"),c=(0,t.g2)("el-tab-pane"),k=(0,t.g2)("el-tabs"),f=(0,t.g2)("el-card"),g=(0,t.g2)("el-input"),_=(0,t.g2)("el-form-item"),F=(0,t.g2)("el-checkbox"),V=(0,t.g2)("el-checkbox-group"),h=(0,t.g2)("el-form"),v=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(f,{shadow:"never"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:d.activeTab,"onUpdate:modelValue":l[0]||(l[0]=e=>d.activeTab=e)},{default:(0,t.k6)(()=>[(0,t.bF)(c,{label:"角色权限",name:"role"},{default:(0,t.k6)(()=>[(0,t.bF)(p,{data:d.roles,style:{width:"100%"},"row-key":"id"},{default:(0,t.k6)(()=>[(0,t.bF)(u,{prop:"name",label:"角色名称",width:"180"}),(0,t.bF)(u,{label:"权限"},{default:(0,t.k6)(({row:e})=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.permissions,e=>((0,t.uX)(),(0,t.Wv)(m,{key:e,style:{"margin-right":"10px"}},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(d.permissionMap[e]||e),1)]),_:2},1024))),128))]),_:1}),(0,t.bF)(u,{label:"操作",width:"180"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(b,{type:"text",onClick:l=>n.editRole(e)},{default:(0,t.k6)(()=>[...l[10]||(l[10]=[(0,t.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,t.bF)(b,{type:"text",onClick:l=>n.deleteRole(e)},{default:(0,t.k6)(()=>[...l[11]||(l[11]=[(0,t.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),(0,t.bF)(c,{label:"用户管理",name:"user"},{default:(0,t.k6)(()=>[(0,t.bF)(p,{data:d.users,style:{width:"100%"},"row-key":"id"},{default:(0,t.k6)(()=>[(0,t.bF)(u,{prop:"name",label:"用户名",width:"180"}),(0,t.bF)(u,{label:"角色"},{default:(0,t.k6)(({row:e})=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.roles,e=>((0,t.uX)(),(0,t.Wv)(m,{key:e,style:{"margin-right":"10px"}},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(d.roleMap[e]||e),1)]),_:2},1024))),128))]),_:1}),(0,t.bF)(u,{prop:"email",label:"邮箱",width:"200"}),(0,t.bF)(u,{label:"操作",width:"180"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(b,{type:"text",onClick:l=>n.editUser(e)},{default:(0,t.k6)(()=>[...l[12]||(l[12]=[(0,t.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,t.bF)(b,{type:"text",onClick:l=>n.deleteUser(e)},{default:(0,t.k6)(()=>[...l[13]||(l[13]=[(0,t.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.Q3)(" 角色编辑对话框 "),(0,t.bF)(v,{modelValue:d.roleDialogVisible,"onUpdate:modelValue":l[4]||(l[4]=e=>d.roleDialogVisible=e),title:"编辑角色",width:"500px"},{footer:(0,t.k6)(()=>[(0,t.Lk)("span",s,[(0,t.bF)(b,{onClick:l[3]||(l[3]=e=>d.roleDialogVisible=!1)},{default:(0,t.k6)(()=>[...l[14]||(l[14]=[(0,t.eW)("取消",-1)])]),_:1}),(0,t.bF)(b,{type:"primary",onClick:n.saveRole},{default:(0,t.k6)(()=>[...l[15]||(l[15]=[(0,t.eW)("保存",-1)])]),_:1},8,["onClick"])])]),default:(0,t.k6)(()=>[(0,t.bF)(h,{model:d.currentRole,"label-width":"80px"},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"角色名称"},{default:(0,t.k6)(()=>[(0,t.bF)(g,{modelValue:d.currentRole.name,"onUpdate:modelValue":l[1]||(l[1]=e=>d.currentRole.name=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(_,{label:"权限"},{default:(0,t.k6)(()=>[(0,t.bF)(V,{modelValue:d.currentRole.permissions,"onUpdate:modelValue":l[2]||(l[2]=e=>d.currentRole.permissions=e)},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.permissionMap,(e,l)=>((0,t.uX)(),(0,t.Wv)(F,{key:l,label:l},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,t.Q3)(" 用户编辑对话框 "),(0,t.bF)(v,{modelValue:d.userDialogVisible,"onUpdate:modelValue":l[9]||(l[9]=e=>d.userDialogVisible=e),title:"编辑用户",width:"500px"},{footer:(0,t.k6)(()=>[(0,t.Lk)("span",o,[(0,t.bF)(b,{onClick:l[8]||(l[8]=e=>d.userDialogVisible=!1)},{default:(0,t.k6)(()=>[...l[16]||(l[16]=[(0,t.eW)("取消",-1)])]),_:1}),(0,t.bF)(b,{type:"primary",onClick:n.saveUser},{default:(0,t.k6)(()=>[...l[17]||(l[17]=[(0,t.eW)("保存",-1)])]),_:1},8,["onClick"])])]),default:(0,t.k6)(()=>[(0,t.bF)(h,{model:d.currentUser,"label-width":"80px"},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"用户名"},{default:(0,t.k6)(()=>[(0,t.bF)(g,{modelValue:d.currentUser.name,"onUpdate:modelValue":l[5]||(l[5]=e=>d.currentUser.name=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(_,{label:"邮箱"},{default:(0,t.k6)(()=>[(0,t.bF)(g,{modelValue:d.currentUser.email,"onUpdate:modelValue":l[6]||(l[6]=e=>d.currentUser.email=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(_,{label:"角色"},{default:(0,t.k6)(()=>[(0,t.bF)(V,{modelValue:d.currentUser.roles,"onUpdate:modelValue":l[7]||(l[7]=e=>d.currentUser.roles=e)},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.roleMap,(e,l)=>((0,t.uX)(),(0,t.Wv)(F,{key:l,label:l},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-1d1eddf4"]])}}]);