"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["744"],{82764:function(e,t,a){var l=a(62099),r=a.n(l),o=a(21132),s=a.n(o)()(r());s.push([e.id,".project-container[data-v-24fd9b3c]{padding:20px}.project-container .card-header[data-v-24fd9b3c]{display:flex;justify-content:space-between;align-items:center;font-weight:bold}.project-container .project-name[data-v-24fd9b3c]{display:flex;align-items:center}.project-container .project-description[data-v-24fd9b3c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis}.project-container .project-avatar-detail[data-v-24fd9b3c]{width:100px;height:100px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;color:#fff;margin:0 auto}.project-container .pagination-container[data-v-24fd9b3c]{margin-top:20px;text-align:right}",""]),t.A=s},65739:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var l=a(86549);let r={class:"project-container"},o={class:"card-header"},s={class:"header-actions"},i={class:"project-name"},d={style:{"margin-left":"10px"}},n={class:"project-description"},c={class:"pagination-container"},p={class:"dialog-footer"},u={class:"dialog-footer"};var g={name:"Project",components:{Search:a(92472).Search},data:()=>({searchText:"",currentPage:1,pageSize:10,totalProjects:0,loading:!1,projectDialogVisible:!1,detailDialogVisible:!1,activeTab:"tasks",editingProject:null,projects:[{id:1,name:"电商平台开发",description:"开发全新的电商平台，包括前端和后端系统",progress:75,manager:"张三",status:"in-progress",startDate:"2023-04-01",endDate:"2023-09-30",color:"#409EFF"},{id:2,name:"移动端App",description:"开发公司业务的移动端应用程序",progress:40,manager:"李四",status:"in-progress",startDate:"2023-05-01",endDate:"2023-11-30",color:"#67C23A"},{id:3,name:"数据分析系统",description:"构建大数据分析平台，支持实时数据处理",progress:90,manager:"王五",status:"in-progress",startDate:"2023-03-01",endDate:"2023-08-31",color:"#E6A23C"},{id:4,name:"内部管理系统",description:"升级公司内部管理系统，提高办公效率",progress:100,manager:"赵六",status:"completed",startDate:"2023-01-01",endDate:"2023-05-31",color:"#F56C6C"},{id:5,name:"客户关系管理",description:"开发CRM系统，提升客户服务质量",progress:20,manager:"钱七",status:"not-started",startDate:"2023-07-01",endDate:"2023-12-31",color:"#909399"}],users:[{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"王五"},{id:4,name:"赵六"},{id:5,name:"钱七"}],projectForm:{name:"",description:"",manager:"",startDate:"",endDate:"",status:"not-started",color:"#409EFF"},detailProject:{},projectRules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],manager:[{required:!0,message:"请选择项目经理",trigger:"change"}],startDate:[{required:!0,message:"请选择开始日期",trigger:"change"}],endDate:[{required:!0,message:"请选择结束日期",trigger:"change"}]},projectTasks:[{id:1,title:"需求分析",assignee:"张三",status:"completed",dueDate:"2023-04-10"},{id:2,title:"UI设计",assignee:"李四",status:"completed",dueDate:"2023-04-20"},{id:3,title:"前端开发",assignee:"王五",status:"in-progress",dueDate:"2023-06-30"},{id:4,title:"后端开发",assignee:"赵六",status:"in-progress",dueDate:"2023-07-15"}],projectMembers:[{id:1,name:"张三",role:"项目经理",email:"zhangsan@example.com"},{id:2,name:"李四",role:"UI设计师",email:"lisi@example.com"},{id:3,name:"王五",role:"前端工程师",email:"wangwu@example.com"},{id:4,name:"赵六",role:"后端工程师",email:"zhaoliu@example.com"}]}),computed:{filteredProjects(){let e=this.projects;this.searchText&&(e=e.filter(e=>e.name.toLowerCase().includes(this.searchText.toLowerCase())||e.description.toLowerCase().includes(this.searchText.toLowerCase())));let t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize;return e.slice(t,a)}},methods:{handleSizeChange(e){this.pageSize=e,this.currentPage=1},handleCurrentChange(e){this.currentPage=e},getStatusText:e=>({"not-started":"未开始","in-progress":"进行中",completed:"已完成",paused:"已暂停"})[e]||e,getStatusType:e=>({"not-started":"info","in-progress":"warning",completed:"success",paused:"danger"})[e]||"info",getProgressStatus:e=>100===e?"success":e<30?"exception":"",getTaskStatusText:e=>({pending:"待办","in-progress":"进行中",completed:"已完成"})[e]||e,getTaskStatusType:e=>({pending:"info","in-progress":"warning",completed:"success"})[e]||"info",showAddProjectDialog(){this.editingProject=null,this.projectForm={name:"",description:"",manager:"",startDate:"",endDate:"",status:"not-started",color:"#409EFF"},this.projectDialogVisible=!0,this.$nextTick(()=>{this.$refs.projectFormRef.resetFields()})},editProject(e){this.editingProject=e,this.projectForm={...e},this.projectDialogVisible=!0},viewProject(e){this.detailProject={...e},this.detailDialogVisible=!0},deleteProject(e){this.$confirm(`确定要删除项目"${e.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.projects.findIndex(t=>t.id===e.id);-1!==t&&(this.projects.splice(t,1),this.totalProjects=this.projects.length,this.$message.success("项目删除成功"))}).catch(()=>{this.$message.info("已取消删除")})},saveProject(){this.$refs.projectFormRef.validate(e=>{if(e){if(this.editingProject){let e=this.projects.findIndex(e=>e.id===this.editingProject.id);-1!==e&&(this.projects[e]={...this.editingProject,...this.projectForm},this.$message.success("项目更新成功"))}else{let e={id:Date.now(),progress:0,...this.projectForm};this.projects.push(e),this.totalProjects=this.projects.length,this.$message.success("项目添加成功")}this.projectDialogVisible=!1}})}}},m=a(7368),b=a.n(m),h=a(60473),f=a.n(h),F=a(62915),j=a.n(F),k=a(14808),_=a.n(k),v=a(85364),D=a.n(v),w=a(78577),P=a.n(w),x=a(82764),y={};y.styleTagTransform=P(),y.setAttributes=_(),y.insert=j().bind(null,"head"),y.domAPI=f(),y.insertStyleElement=D(),b()(x.A,y),x.A&&x.A.locals&&x.A.locals;var V=(0,a(53438).default)(g,[["render",function(e,t,a,g,m,b){let h=(0,l.g2)("Search"),f=(0,l.g2)("el-icon"),F=(0,l.g2)("el-input"),j=(0,l.g2)("el-button"),k=(0,l.g2)("el-avatar"),_=(0,l.g2)("el-table-column"),v=(0,l.g2)("el-progress"),D=(0,l.g2)("el-tag"),w=(0,l.g2)("el-table"),P=(0,l.g2)("el-pagination"),x=(0,l.g2)("el-card"),y=(0,l.g2)("el-form-item"),V=(0,l.g2)("el-option"),C=(0,l.g2)("el-select"),T=(0,l.g2)("el-date-picker"),S=(0,l.g2)("el-color-picker"),z=(0,l.g2)("el-form"),W=(0,l.g2)("el-dialog"),U=(0,l.g2)("el-descriptions-item"),Y=(0,l.g2)("el-descriptions"),A=(0,l.g2)("el-col"),L=(0,l.g2)("el-row"),M=(0,l.g2)("el-tab-pane"),$=(0,l.g2)("el-tabs"),E=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(x,{shadow:"never"},{header:(0,l.k6)(()=>[(0,l.Lk)("div",o,[t[16]||(t[16]=(0,l.Lk)("span",null,"项目管理",-1)),(0,l.Lk)("div",s,[(0,l.bF)(F,{modelValue:m.searchText,"onUpdate:modelValue":t[0]||(t[0]=e=>m.searchText=e),placeholder:"搜索项目...",clearable:"",style:{width:"200px","margin-right":"10px"}},{prefix:(0,l.k6)(()=>[(0,l.bF)(f,null,{default:(0,l.k6)(()=>[(0,l.bF)(h)]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(j,{type:"primary",onClick:b.showAddProjectDialog},{default:(0,l.k6)(()=>[...t[15]||(t[15]=[(0,l.eW)("添加项目",-1)])]),_:1},8,["onClick"])])])]),default:(0,l.k6)(()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(w,{data:b.filteredProjects,style:{width:"100%"},"row-key":"id"},{default:(0,l.k6)(()=>[(0,l.bF)(_,{prop:"name",label:"项目名称","min-width":"200"},{default:(0,l.k6)(({row:e})=>[(0,l.Lk)("div",i,[(0,l.bF)(k,{size:32,style:(0,l.Tr)({backgroundColor:e.color})},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(e.name.charAt(0).toUpperCase()),1)]),_:2},1032,["style"]),(0,l.Lk)("span",d,(0,l.v_)(e.name),1)])]),_:1}),(0,l.bF)(_,{prop:"description",label:"项目描述","min-width":"250"},{default:(0,l.k6)(({row:e})=>[(0,l.Lk)("div",n,(0,l.v_)(e.description),1)]),_:1}),(0,l.bF)(_,{label:"进度",width:"150"},{default:(0,l.k6)(({row:e})=>[(0,l.bF)(v,{percentage:e.progress,status:b.getProgressStatus(e.progress)},null,8,["percentage","status"])]),_:1}),(0,l.bF)(_,{prop:"manager",label:"项目经理",width:"120"}),(0,l.bF)(_,{label:"状态",width:"100"},{default:(0,l.k6)(({row:e})=>[(0,l.bF)(D,{type:b.getStatusType(e.status)},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(b.getStatusText(e.status)),1)]),_:2},1032,["type"])]),_:1}),(0,l.bF)(_,{prop:"startDate",label:"开始日期",width:"120"}),(0,l.bF)(_,{prop:"endDate",label:"结束日期",width:"120"}),(0,l.bF)(_,{label:"操作",width:"200"},{default:(0,l.k6)(({row:e})=>[(0,l.bF)(j,{type:"text",onClick:t=>b.viewProject(e)},{default:(0,l.k6)(()=>[...t[17]||(t[17]=[(0,l.eW)("查看",-1)])]),_:1},8,["onClick"]),(0,l.bF)(j,{type:"text",onClick:t=>b.editProject(e)},{default:(0,l.k6)(()=>[...t[18]||(t[18]=[(0,l.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,l.bF)(j,{type:"text",onClick:t=>b.deleteProject(e)},{default:(0,l.k6)(()=>[...t[19]||(t[19]=[(0,l.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[E,m.loading]]),(0,l.Lk)("div",c,[(0,l.bF)(P,{"current-page":m.currentPage,"onUpdate:currentPage":t[1]||(t[1]=e=>m.currentPage=e),"page-size":m.pageSize,"onUpdate:pageSize":t[2]||(t[2]=e=>m.pageSize=e),"page-sizes":[10,20,50,100],total:m.totalProjects,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1}),(0,l.Q3)(" 添加/编辑项目对话框 "),(0,l.bF)(W,{modelValue:m.projectDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>m.projectDialogVisible=e),title:m.editingProject?"编辑项目":"添加项目",width:"600px"},{footer:(0,l.k6)(()=>[(0,l.Lk)("span",p,[(0,l.bF)(j,{onClick:t[10]||(t[10]=e=>m.projectDialogVisible=!1)},{default:(0,l.k6)(()=>[...t[20]||(t[20]=[(0,l.eW)("取消",-1)])]),_:1}),(0,l.bF)(j,{type:"primary",onClick:b.saveProject},{default:(0,l.k6)(()=>[...t[21]||(t[21]=[(0,l.eW)(" 保存 ",-1)])]),_:1},8,["onClick"])])]),default:(0,l.k6)(()=>[(0,l.bF)(z,{ref:"projectFormRef",model:m.projectForm,rules:m.projectRules,"label-width":"100px"},{default:(0,l.k6)(()=>[(0,l.bF)(y,{label:"项目名称",prop:"name"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:m.projectForm.name,"onUpdate:modelValue":t[3]||(t[3]=e=>m.projectForm.name=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(y,{label:"项目描述",prop:"description"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:m.projectForm.description,"onUpdate:modelValue":t[4]||(t[4]=e=>m.projectForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,l.bF)(y,{label:"项目经理",prop:"manager"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{modelValue:m.projectForm.manager,"onUpdate:modelValue":t[5]||(t[5]=e=>m.projectForm.manager=e),placeholder:"请选择项目经理",style:{width:"100%"}},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.users,e=>((0,l.uX)(),(0,l.Wv)(V,{key:e.id,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(y,{label:"开始日期",prop:"startDate"},{default:(0,l.k6)(()=>[(0,l.bF)(T,{modelValue:m.projectForm.startDate,"onUpdate:modelValue":t[6]||(t[6]=e=>m.projectForm.startDate=e),type:"date",placeholder:"选择开始日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,l.bF)(y,{label:"结束日期",prop:"endDate"},{default:(0,l.k6)(()=>[(0,l.bF)(T,{modelValue:m.projectForm.endDate,"onUpdate:modelValue":t[7]||(t[7]=e=>m.projectForm.endDate=e),type:"date",placeholder:"选择结束日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,l.bF)(y,{label:"状态",prop:"status"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{modelValue:m.projectForm.status,"onUpdate:modelValue":t[8]||(t[8]=e=>m.projectForm.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(V,{label:"未开始",value:"not-started"}),(0,l.bF)(V,{label:"进行中",value:"in-progress"}),(0,l.bF)(V,{label:"已完成",value:"completed"}),(0,l.bF)(V,{label:"已暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(y,{label:"项目颜色"},{default:(0,l.k6)(()=>[(0,l.bF)(S,{modelValue:m.projectForm.color,"onUpdate:modelValue":t[9]||(t[9]=e=>m.projectForm.color=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),(0,l.Q3)(" 项目详情对话框 "),(0,l.bF)(W,{modelValue:m.detailDialogVisible,"onUpdate:modelValue":t[14]||(t[14]=e=>m.detailDialogVisible=e),title:"项目详情",width:"800px"},{footer:(0,l.k6)(()=>[(0,l.Lk)("span",u,[(0,l.bF)(j,{onClick:t[13]||(t[13]=e=>m.detailDialogVisible=!1)},{default:(0,l.k6)(()=>[...t[22]||(t[22]=[(0,l.eW)("关闭",-1)])]),_:1})])]),default:(0,l.k6)(()=>[(0,l.bF)(L,{gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(A,{span:16},{default:(0,l.k6)(()=>[(0,l.bF)(Y,{column:1,border:""},{default:(0,l.k6)(()=>[(0,l.bF)(U,{label:"项目名称"},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(m.detailProject.name),1)]),_:1}),(0,l.bF)(U,{label:"项目描述"},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(m.detailProject.description),1)]),_:1}),(0,l.bF)(U,{label:"项目经理"},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(m.detailProject.manager),1)]),_:1}),(0,l.bF)(U,{label:"状态"},{default:(0,l.k6)(()=>[(0,l.bF)(D,{type:b.getStatusType(m.detailProject.status)},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(b.getStatusText(m.detailProject.status)),1)]),_:1},8,["type"])]),_:1}),(0,l.bF)(U,{label:"开始日期"},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(m.detailProject.startDate),1)]),_:1}),(0,l.bF)(U,{label:"结束日期"},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(m.detailProject.endDate),1)]),_:1}),(0,l.bF)(U,{label:"进度"},{default:(0,l.k6)(()=>[(0,l.bF)(v,{percentage:m.detailProject.progress,status:b.getProgressStatus(m.detailProject.progress)},null,8,["percentage","status"])]),_:1})]),_:1})]),_:1}),(0,l.bF)(A,{span:8},{default:(0,l.k6)(()=>[(0,l.Lk)("div",{class:"project-avatar-detail",style:(0,l.Tr)({backgroundColor:m.detailProject.color})},(0,l.v_)(m.detailProject.name.charAt(0).toUpperCase()),5)]),_:1})]),_:1}),(0,l.bF)($,{modelValue:m.activeTab,"onUpdate:modelValue":t[12]||(t[12]=e=>m.activeTab=e),style:{"margin-top":"20px"}},{default:(0,l.k6)(()=>[(0,l.bF)(M,{label:"任务",name:"tasks"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{data:m.projectTasks,style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{prop:"title",label:"任务标题"}),(0,l.bF)(_,{prop:"assignee",label:"负责人",width:"120"}),(0,l.bF)(_,{label:"状态",width:"100"},{default:(0,l.k6)(({row:e})=>[(0,l.bF)(D,{type:b.getTaskStatusType(e.status)},{default:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(b.getTaskStatusText(e.status)),1)]),_:2},1032,["type"])]),_:1}),(0,l.bF)(_,{prop:"dueDate",label:"截止日期",width:"120"})]),_:1},8,["data"])]),_:1}),(0,l.bF)(M,{label:"成员",name:"members"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{data:m.projectMembers,style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(_,{prop:"name",label:"姓名"}),(0,l.bF)(_,{prop:"role",label:"角色"}),(0,l.bF)(_,{prop:"email",label:"邮箱"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-24fd9b3c"]])}}]);