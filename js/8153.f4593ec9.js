"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["8153"],{53709:function(e,t,a){var n=a(62099),l=a.n(n),r=a(21132),d=a.n(r)()(l());d.push([e.id,".calendar-container[data-v-5a89fa30]{padding:20px}.calendar-container .card-header[data-v-5a89fa30]{display:flex;justify-content:space-between;align-items:center;font-weight:bold}.calendar-container .card-header .header-actions[data-v-5a89fa30]{display:flex;align-items:center}.calendar-container .calendar-wrapper[data-v-5a89fa30]{margin:20px 0}.calendar-container .calendar-wrapper .weekdays[data-v-5a89fa30]{display:flex;border:1px solid #ebeef5;border-bottom:0}.calendar-container .calendar-wrapper .weekdays .weekday[data-v-5a89fa30]{flex:1;text-align:center;padding:10px 0;background-color:#f2f6fc;font-weight:bold}.calendar-container .calendar-wrapper .calendar-grid[data-v-5a89fa30]{display:flex;flex-wrap:wrap;border:1px solid #ebeef5;border-top:0}.calendar-container .calendar-wrapper .calendar-grid .calendar-day[data-v-5a89fa30]{flex:0 0 14.2857142857%;min-height:100px;border-right:1px solid #ebeef5;border-bottom:1px solid #ebeef5;padding:5px;cursor:pointer;transition:background-color .2s;position:relative}.calendar-container .calendar-wrapper .calendar-grid .calendar-day[data-v-5a89fa30]:nth-child(7n){border-right:0}.calendar-container .calendar-wrapper .calendar-grid .calendar-day[data-v-5a89fa30]:hover{background-color:#f2f6fc}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.today[data-v-5a89fa30]{background-color:#e6f2ff}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.today .day-number[data-v-5a89fa30]{color:#409eff;font-weight:bold}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.selected[data-v-5a89fa30]{background-color:#e6f2ff;border:2px solid #409eff;padding:3px}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.empty[data-v-5a89fa30]{background-color:#fafafa;cursor:default}.calendar-container .calendar-wrapper .calendar-grid .calendar-day.empty[data-v-5a89fa30]:hover{background-color:#fafafa}.calendar-container .calendar-wrapper .calendar-grid .calendar-day .day-number[data-v-5a89fa30]{font-size:16px;margin-bottom:5px}.calendar-container .calendar-wrapper .calendar-grid .calendar-day .events-indicator[data-v-5a89fa30]{display:flex;flex-wrap:wrap;gap:2px}.calendar-container .calendar-wrapper .calendar-grid .calendar-day .events-indicator .event-dot[data-v-5a89fa30]{width:8px;height:8px;border-radius:50%}.calendar-container .events-panel[data-v-5a89fa30]{margin-top:30px;padding-top:20px;border-top:1px solid #ebeef5}.calendar-container .events-panel.no-events[data-v-5a89fa30]{text-align:center;padding:40px 0}.calendar-container .events-panel.no-events p[data-v-5a89fa30]{margin-bottom:20px;color:#909399}",""]),t.A=d},85264:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(86549);let l={class:"calendar-container"},r={class:"card-header"},d={class:"header-actions"},i={class:"calendar-wrapper"},o={class:"weekdays"},s={class:"calendar-grid"},c=["onClick"],p={class:"day-number"},u={class:"events-indicator"},h=["title"],f={key:0,class:"events-panel"},v={style:{"margin-top":"20px","text-align":"center"}},g={key:1,class:"events-panel no-events"},m={class:"dialog-footer"};var D=a(7368),b=a.n(D),k=a(60473),y=a.n(k),w=a(62915),F=a.n(w),Y=a(14808),M=a.n(Y),x=a(85364),C=a.n(x),E=a(78577),V=a.n(E),_=a(53709),$={};$.styleTagTransform=V(),$.setAttributes=M(),$.insert=F().bind(null,"head"),$.domAPI=y(),$.insertStyleElement=C(),b()(_.A,$),_.A&&_.A.locals&&_.A.locals;var S=(0,a(53438).default)({name:"Calendar",data(){return{currentDate:this.formatDate(new Date,"YYYY-MM"),selectedDate:null,weekdays:["日","一","二","三","四","五","六"],events:[{id:1,title:"项目会议",date:this.formatDate(new Date,"YYYY-MM-DD"),time:"14:00",description:"讨论项目进度和下一步计划",color:"#409EFF"},{id:2,title:"团队聚餐",date:this.formatDate(this.addDays(new Date,2),"YYYY-MM-DD"),time:"18:30",description:"季度团队聚餐活动",color:"#67C23A"},{id:3,title:"产品发布",date:this.formatDate(this.addDays(new Date,5),"YYYY-MM-DD"),time:"10:00",description:"新产品正式发布",color:"#E6A23C"}],eventDialogVisible:!1,editingEvent:null,eventForm:{title:"",date:"",time:"",description:"",color:"#409EFF"},eventRules:{title:[{required:!0,message:"请输入事件标题",trigger:"blur"}],date:[{required:!0,message:"请选择日期",trigger:"change"}]}}},computed:{firstDayOfMonth(){return new Date(`${this.currentDate}-01`).getDay()},daysInMonth(){let e=new Date(this.currentDate);return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},selectedDateEvents(){return this.selectedDate?this.events.filter(e=>e.date===this.selectedDate):[]},selectedDateString(){if(!this.selectedDate)return"";let e=new Date(this.selectedDate);return`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}日`}},methods:{formatDate(e,t){let a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return t.replace("YYYY",a).replace("MM",n).replace("DD",l)},addDays(e,t){let a=new Date(e);return a.setDate(a.getDate()+t),a},prevMonth(){let e=new Date(this.currentDate);e.setMonth(e.getMonth()-1),this.currentDate=this.formatDate(e,"YYYY-MM")},nextMonth(){let e=new Date(this.currentDate);e.setMonth(e.getMonth()+1),this.currentDate=this.formatDate(e,"YYYY-MM")},goToToday(){this.currentDate=this.formatDate(new Date,"YYYY-MM"),this.selectedDate=this.formatDate(new Date,"YYYY-MM-DD")},handleMonthChange(e){this.currentDate=e},isToday(e){let t=new Date,a=new Date(this.currentDate);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===e},isSelected(e){if(!this.selectedDate)return!1;let t=new Date(this.selectedDate),a=new Date(this.currentDate);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===e},hasEvents(e){let t=`${this.currentDate}-${String(e).padStart(2,"0")}`;return this.events.some(e=>e.date===t)},getEventsForDay(e){let t=`${this.currentDate}-${String(e).padStart(2,"0")}`;return this.events.filter(e=>e.date===t)},selectDay(e){this.selectedDate=`${this.currentDate}-${String(e).padStart(2,"0")}`},showAddEventDialog(){this.editingEvent=null,this.eventForm={title:"",date:this.selectedDate||this.formatDate(new Date,"YYYY-MM-DD"),time:"",description:"",color:"#409EFF"},this.eventDialogVisible=!0,this.$nextTick(()=>{this.$refs.eventFormRef.resetFields()})},editEvent(e){this.editingEvent=e,this.eventForm={...e},this.eventDialogVisible=!0},deleteEvent(e){this.$confirm(`确定要删除事件"${e.title}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.events.findIndex(t=>t.id===e.id);-1!==t&&(this.events.splice(t,1),this.$message.success("事件删除成功"))}).catch(()=>{this.$message.info("已取消删除")})},saveEvent(){this.$refs.eventFormRef.validate(e=>{if(e){if(this.editingEvent){let e=this.events.findIndex(e=>e.id===this.editingEvent.id);-1!==e&&(this.events[e]={...this.editingEvent,...this.eventForm},this.$message.success("事件更新成功"))}else{let e={id:Date.now(),...this.eventForm};this.events.push(e),this.$message.success("事件添加成功")}this.eventDialogVisible=!1}})}}},[["render",function(e,t,a,D,b,k){let y=(0,n.g2)("el-button"),w=(0,n.g2)("el-date-picker"),F=(0,n.g2)("el-table-column"),Y=(0,n.g2)("el-table"),M=(0,n.g2)("el-card"),x=(0,n.g2)("el-input"),C=(0,n.g2)("el-form-item"),E=(0,n.g2)("el-time-picker"),V=(0,n.g2)("el-color-picker"),_=(0,n.g2)("el-form"),$=(0,n.g2)("el-dialog");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(M,{shadow:"never"},{header:(0,n.k6)(()=>[(0,n.Lk)("div",r,[t[11]||(t[11]=(0,n.Lk)("span",null,"日历",-1)),(0,n.Lk)("div",d,[(0,n.bF)(y,{onClick:k.prevMonth},{default:(0,n.k6)(()=>[...t[8]||(t[8]=[(0,n.eW)("上个月",-1)])]),_:1},8,["onClick"]),(0,n.bF)(y,{onClick:k.nextMonth},{default:(0,n.k6)(()=>[...t[9]||(t[9]=[(0,n.eW)("下个月",-1)])]),_:1},8,["onClick"]),(0,n.bF)(y,{type:"primary",onClick:k.goToToday},{default:(0,n.k6)(()=>[...t[10]||(t[10]=[(0,n.eW)("今天",-1)])]),_:1},8,["onClick"]),(0,n.bF)(w,{modelValue:b.currentDate,"onUpdate:modelValue":t[0]||(t[0]=e=>b.currentDate=e),type:"month",placeholder:"选择月份",format:"YYYY年MM月","value-format":"YYYY-MM",onChange:k.handleMonthChange,style:{"margin-left":"10px",width:"150px"}},null,8,["modelValue","onChange"])])])]),default:(0,n.k6)(()=>[(0,n.Lk)("div",i,[(0,n.Lk)("div",o,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(b.weekdays,e=>((0,n.uX)(),(0,n.CE)("div",{class:"weekday",key:e},(0,n.v_)(e),1))),128))]),(0,n.Lk)("div",s,[(0,n.Q3)(" 空白日期格子（上个月） "),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.firstDayOfMonth,e=>((0,n.uX)(),(0,n.CE)("div",{class:"calendar-day empty",key:`empty-${e}`}))),128)),(0,n.Q3)(" 当前月的日期 "),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.daysInMonth,e=>((0,n.uX)(),(0,n.CE)("div",{class:(0,n.C4)(["calendar-day",{today:k.isToday(e),selected:k.isSelected(e),hasEvents:k.hasEvents(e)}]),key:`day-${e}`,onClick:t=>k.selectDay(e)},[(0,n.Lk)("div",p,(0,n.v_)(e),1),(0,n.Lk)("div",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.getEventsForDay(e),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"event-dot",key:t,style:(0,n.Tr)({backgroundColor:e.color}),title:e.title},null,12,h))),128))])],10,c))),128))])]),k.selectedDateEvents.length>0?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("h3",null,(0,n.v_)(k.selectedDateString)+" 的事件",1),(0,n.bF)(Y,{data:k.selectedDateEvents,style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(F,{prop:"title",label:"事件标题"}),(0,n.bF)(F,{prop:"time",label:"时间",width:"120"}),(0,n.bF)(F,{prop:"description",label:"描述"}),(0,n.bF)(F,{label:"操作",width:"120"},{default:(0,n.k6)(({row:e})=>[(0,n.bF)(y,{type:"text",onClick:t=>k.editEvent(e)},{default:(0,n.k6)(()=>[...t[12]||(t[12]=[(0,n.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,n.bF)(y,{type:"text",onClick:t=>k.deleteEvent(e)},{default:(0,n.k6)(()=>[...t[13]||(t[13]=[(0,n.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,n.Lk)("div",v,[(0,n.bF)(y,{type:"primary",onClick:k.showAddEventDialog},{default:(0,n.k6)(()=>[...t[14]||(t[14]=[(0,n.eW)("添加事件",-1)])]),_:1},8,["onClick"])])])):((0,n.uX)(),(0,n.CE)("div",g,[t[16]||(t[16]=(0,n.Lk)("p",null,"请选择一个日期来查看或添加事件",-1)),(0,n.bF)(y,{type:"primary",onClick:k.showAddEventDialog,disabled:!b.selectedDate},{default:(0,n.k6)(()=>[...t[15]||(t[15]=[(0,n.eW)(" 添加事件 ",-1)])]),_:1},8,["onClick","disabled"])]))]),_:1}),(0,n.Q3)(" 添加/编辑事件对话框 "),(0,n.bF)($,{modelValue:b.eventDialogVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>b.eventDialogVisible=e),title:b.editingEvent?"编辑事件":"添加事件",width:"500px"},{footer:(0,n.k6)(()=>[(0,n.Lk)("span",m,[(0,n.bF)(y,{onClick:t[6]||(t[6]=e=>b.eventDialogVisible=!1)},{default:(0,n.k6)(()=>[...t[17]||(t[17]=[(0,n.eW)("取消",-1)])]),_:1}),(0,n.bF)(y,{type:"primary",onClick:k.saveEvent},{default:(0,n.k6)(()=>[...t[18]||(t[18]=[(0,n.eW)(" 保存 ",-1)])]),_:1},8,["onClick"])])]),default:(0,n.k6)(()=>[(0,n.bF)(_,{ref:"eventFormRef",model:b.eventForm,rules:b.eventRules,"label-width":"80px"},{default:(0,n.k6)(()=>[(0,n.bF)(C,{label:"标题",prop:"title"},{default:(0,n.k6)(()=>[(0,n.bF)(x,{modelValue:b.eventForm.title,"onUpdate:modelValue":t[1]||(t[1]=e=>b.eventForm.title=e)},null,8,["modelValue"])]),_:1}),(0,n.bF)(C,{label:"日期",prop:"date"},{default:(0,n.k6)(()=>[(0,n.bF)(w,{modelValue:b.eventForm.date,"onUpdate:modelValue":t[2]||(t[2]=e=>b.eventForm.date=e),type:"date",placeholder:"选择日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,n.bF)(C,{label:"时间",prop:"time"},{default:(0,n.k6)(()=>[(0,n.bF)(E,{modelValue:b.eventForm.time,"onUpdate:modelValue":t[3]||(t[3]=e=>b.eventForm.time=e),placeholder:"选择时间",format:"HH:mm","value-format":"HH:mm",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,n.bF)(C,{label:"描述",prop:"description"},{default:(0,n.k6)(()=>[(0,n.bF)(x,{modelValue:b.eventForm.description,"onUpdate:modelValue":t[4]||(t[4]=e=>b.eventForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,n.bF)(C,{label:"颜色"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:b.eventForm.color,"onUpdate:modelValue":t[5]||(t[5]=e=>b.eventForm.color=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}],["__scopeId","data-v-5a89fa30"]])}}]);