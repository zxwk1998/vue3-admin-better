"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["8709"],{22015:function(e,t,a){var l=a(74748),r=a.n(l),o=a(49490),s=a.n(o)()(r());s.push([e.id,".project-container[data-v-24fd9b3c]{padding:20px}.project-container .card-header[data-v-24fd9b3c]{display:flex;justify-content:space-between;align-items:center;font-weight:bold}.project-container .project-name[data-v-24fd9b3c]{display:flex;align-items:center}.project-container .project-description[data-v-24fd9b3c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis}.project-container .project-avatar-detail[data-v-24fd9b3c]{width:100px;height:100px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;color:#fff;margin:0 auto}.project-container .pagination-container[data-v-24fd9b3c]{margin-top:20px;text-align:right}",""]),t.Z=s},73296:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var l=a(78650);let r={class:"project-container"},o={class:"card-header"},s={class:"header-actions"},i={class:"project-name"},d={style:{"margin-left":"10px"}},n={class:"project-description"},p={class:"pagination-container"},c={class:"dialog-footer"},m={class:"dialog-footer"};var u={name:"Project",components:{Search:a(57864).Search},data:()=>({searchText:"",currentPage:1,pageSize:10,totalProjects:0,loading:!1,projectDialogVisible:!1,detailDialogVisible:!1,activeTab:"tasks",editingProject:null,projects:[{id:1,name:"电商平台开发",description:"开发全新的电商平台，包括前端和后端系统",progress:75,manager:"张三",status:"in-progress",startDate:"2023-04-01",endDate:"2023-09-30",color:"#409EFF"},{id:2,name:"移动端App",description:"开发公司业务的移动端应用程序",progress:40,manager:"李四",status:"in-progress",startDate:"2023-05-01",endDate:"2023-11-30",color:"#67C23A"},{id:3,name:"数据分析系统",description:"构建大数据分析平台，支持实时数据处理",progress:90,manager:"王五",status:"in-progress",startDate:"2023-03-01",endDate:"2023-08-31",color:"#E6A23C"},{id:4,name:"内部管理系统",description:"升级公司内部管理系统，提高办公效率",progress:100,manager:"赵六",status:"completed",startDate:"2023-01-01",endDate:"2023-05-31",color:"#F56C6C"},{id:5,name:"客户关系管理",description:"开发CRM系统，提升客户服务质量",progress:20,manager:"钱七",status:"not-started",startDate:"2023-07-01",endDate:"2023-12-31",color:"#909399"}],users:[{id:1,name:"张三"},{id:2,name:"李四"},{id:3,name:"王五"},{id:4,name:"赵六"},{id:5,name:"钱七"}],projectForm:{name:"",description:"",manager:"",startDate:"",endDate:"",status:"not-started",color:"#409EFF"},detailProject:{},projectRules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],manager:[{required:!0,message:"请选择项目经理",trigger:"change"}],startDate:[{required:!0,message:"请选择开始日期",trigger:"change"}],endDate:[{required:!0,message:"请选择结束日期",trigger:"change"}]},projectTasks:[{id:1,title:"需求分析",assignee:"张三",status:"completed",dueDate:"2023-04-10"},{id:2,title:"UI设计",assignee:"李四",status:"completed",dueDate:"2023-04-20"},{id:3,title:"前端开发",assignee:"王五",status:"in-progress",dueDate:"2023-06-30"},{id:4,title:"后端开发",assignee:"赵六",status:"in-progress",dueDate:"2023-07-15"}],projectMembers:[{id:1,name:"张三",role:"项目经理",email:"zhangsan@example.com"},{id:2,name:"李四",role:"UI设计师",email:"lisi@example.com"},{id:3,name:"王五",role:"前端工程师",email:"wangwu@example.com"},{id:4,name:"赵六",role:"后端工程师",email:"zhaoliu@example.com"}]}),computed:{filteredProjects(){let e=this.projects;this.searchText&&(e=e.filter(e=>e.name.toLowerCase().includes(this.searchText.toLowerCase())||e.description.toLowerCase().includes(this.searchText.toLowerCase())));let t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize;return e.slice(t,a)}},methods:{handleSizeChange(e){this.pageSize=e,this.currentPage=1},handleCurrentChange(e){this.currentPage=e},getStatusText:e=>({"not-started":"未开始","in-progress":"进行中",completed:"已完成",paused:"已暂停"})[e]||e,getStatusType:e=>({"not-started":"info","in-progress":"warning",completed:"success",paused:"danger"})[e]||"info",getProgressStatus:e=>100===e?"success":e<30?"exception":"",getTaskStatusText:e=>({pending:"待办","in-progress":"进行中",completed:"已完成"})[e]||e,getTaskStatusType:e=>({pending:"info","in-progress":"warning",completed:"success"})[e]||"info",showAddProjectDialog(){this.editingProject=null,this.projectForm={name:"",description:"",manager:"",startDate:"",endDate:"",status:"not-started",color:"#409EFF"},this.projectDialogVisible=!0,this.$nextTick(()=>{this.$refs.projectFormRef.resetFields()})},editProject(e){this.editingProject=e,this.projectForm={...e},this.projectDialogVisible=!0},viewProject(e){this.detailProject={...e},this.detailDialogVisible=!0},deleteProject(e){this.$confirm(`确定要删除项目"${e.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{let t=this.projects.findIndex(t=>t.id===e.id);-1!==t&&(this.projects.splice(t,1),this.totalProjects=this.projects.length,this.$message.success("项目删除成功"))}).catch(()=>{this.$message.info("已取消删除")})},saveProject(){this.$refs.projectFormRef.validate(e=>{if(e){if(this.editingProject){let e=this.projects.findIndex(e=>e.id===this.editingProject.id);-1!==e&&(this.projects[e]={...this.editingProject,...this.projectForm},this.$message.success("项目更新成功"))}else{let e={id:Date.now(),progress:0,...this.projectForm};this.projects.push(e),this.totalProjects=this.projects.length,this.$message.success("项目添加成功")}this.projectDialogVisible=!1}})}}},g=a(96453),h=a.n(g),w=a(88072),f=a.n(w),j=a(71420),b=a.n(j),W=a(8900),_=a.n(W),D=a(9911),k=a.n(D),P=a(27264),y=a.n(P),x=a(22015),V={};V.styleTagTransform=y(),V.setAttributes=_(),V.insert=b().bind(null,"head"),V.domAPI=f(),V.insertStyleElement=k(),h()(x.Z,V),x.Z&&x.Z.locals&&x.Z.locals;var v=(0,a(50131).default)(u,[["render",function(e,t,a,u,g,h){let w=(0,l.up)("Search"),f=(0,l.up)("el-icon"),j=(0,l.up)("el-input"),b=(0,l.up)("el-button"),W=(0,l.up)("el-avatar"),_=(0,l.up)("el-table-column"),D=(0,l.up)("el-progress"),k=(0,l.up)("el-tag"),P=(0,l.up)("el-table"),y=(0,l.up)("el-pagination"),x=(0,l.up)("el-card"),V=(0,l.up)("el-form-item"),v=(0,l.up)("el-option"),C=(0,l.up)("el-select"),U=(0,l.up)("el-date-picker"),z=(0,l.up)("el-color-picker"),F=(0,l.up)("el-form"),T=(0,l.up)("el-dialog"),S=(0,l.up)("el-descriptions-item"),Y=(0,l.up)("el-descriptions"),M=(0,l.up)("el-col"),A=(0,l.up)("el-row"),$=(0,l.up)("el-tab-pane"),q=(0,l.up)("el-tabs"),I=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(x,{shadow:"never"},{header:(0,l.w5)(()=>[(0,l._)("div",o,[t[16]||(t[16]=(0,l._)("span",null,"项目管理",-1)),(0,l._)("div",s,[(0,l.Wm)(j,{modelValue:g.searchText,"onUpdate:modelValue":t[0]||(t[0]=e=>g.searchText=e),placeholder:"搜索项目...",clearable:"",style:{width:"200px","margin-right":"10px"}},{prefix:(0,l.w5)(()=>[(0,l.Wm)(f,null,{default:(0,l.w5)(()=>[(0,l.Wm)(w)]),_:1})]),_:1},8,["modelValue"]),(0,l.Wm)(b,{type:"primary",onClick:h.showAddProjectDialog},{default:(0,l.w5)(()=>[...t[15]||(t[15]=[(0,l.Uk)("添加项目",-1)])]),_:1},8,["onClick"])])])]),default:(0,l.w5)(()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(P,{data:h.filteredProjects,style:{width:"100%"},"row-key":"id"},{default:(0,l.w5)(()=>[(0,l.Wm)(_,{prop:"name",label:"项目名称","min-width":"200"},{default:(0,l.w5)(({row:e})=>[(0,l._)("div",i,[(0,l.Wm)(W,{size:32,style:(0,l.j5)({backgroundColor:e.color})},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.name.charAt(0).toUpperCase()),1)]),_:2},1032,["style"]),(0,l._)("span",d,(0,l.zw)(e.name),1)])]),_:1}),(0,l.Wm)(_,{prop:"description",label:"项目描述","min-width":"250"},{default:(0,l.w5)(({row:e})=>[(0,l._)("div",n,(0,l.zw)(e.description),1)]),_:1}),(0,l.Wm)(_,{label:"进度",width:"150"},{default:(0,l.w5)(({row:e})=>[(0,l.Wm)(D,{percentage:e.progress,status:h.getProgressStatus(e.progress)},null,8,["percentage","status"])]),_:1}),(0,l.Wm)(_,{prop:"manager",label:"项目经理",width:"120"}),(0,l.Wm)(_,{label:"状态",width:"100"},{default:(0,l.w5)(({row:e})=>[(0,l.Wm)(k,{type:h.getStatusType(e.status)},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(h.getStatusText(e.status)),1)]),_:2},1032,["type"])]),_:1}),(0,l.Wm)(_,{prop:"startDate",label:"开始日期",width:"120"}),(0,l.Wm)(_,{prop:"endDate",label:"结束日期",width:"120"}),(0,l.Wm)(_,{label:"操作",width:"200"},{default:(0,l.w5)(({row:e})=>[(0,l.Wm)(b,{type:"text",onClick:t=>h.viewProject(e)},{default:(0,l.w5)(()=>[...t[17]||(t[17]=[(0,l.Uk)("查看",-1)])]),_:2},1032,["onClick"]),(0,l.Wm)(b,{type:"text",onClick:t=>h.editProject(e)},{default:(0,l.w5)(()=>[...t[18]||(t[18]=[(0,l.Uk)("编辑",-1)])]),_:2},1032,["onClick"]),(0,l.Wm)(b,{type:"text",onClick:t=>h.deleteProject(e)},{default:(0,l.w5)(()=>[...t[19]||(t[19]=[(0,l.Uk)("删除",-1)])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,g.loading]]),(0,l._)("div",p,[(0,l.Wm)(y,{"current-page":g.currentPage,"onUpdate:currentPage":t[1]||(t[1]=e=>g.currentPage=e),"page-size":g.pageSize,"onUpdate:pageSize":t[2]||(t[2]=e=>g.pageSize=e),"page-sizes":[10,20,50,100],total:g.totalProjects,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:h.handleSizeChange,onCurrentChange:h.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1}),(0,l.kq)(" 添加/编辑项目对话框 "),(0,l.Wm)(T,{modelValue:g.projectDialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>g.projectDialogVisible=e),title:g.editingProject?"编辑项目":"添加项目",width:"600px"},{footer:(0,l.w5)(()=>[(0,l._)("span",c,[(0,l.Wm)(b,{onClick:t[10]||(t[10]=e=>g.projectDialogVisible=!1)},{default:(0,l.w5)(()=>[...t[20]||(t[20]=[(0,l.Uk)("取消",-1)])]),_:1}),(0,l.Wm)(b,{type:"primary",onClick:h.saveProject},{default:(0,l.w5)(()=>[...t[21]||(t[21]=[(0,l.Uk)(" 保存 ",-1)])]),_:1},8,["onClick"])])]),default:(0,l.w5)(()=>[(0,l.Wm)(F,{ref:"projectFormRef",model:g.projectForm,rules:g.projectRules,"label-width":"100px"},{default:(0,l.w5)(()=>[(0,l.Wm)(V,{label:"项目名称",prop:"name"},{default:(0,l.w5)(()=>[(0,l.Wm)(j,{modelValue:g.projectForm.name,"onUpdate:modelValue":t[3]||(t[3]=e=>g.projectForm.name=e)},null,8,["modelValue"])]),_:1}),(0,l.Wm)(V,{label:"项目描述",prop:"description"},{default:(0,l.w5)(()=>[(0,l.Wm)(j,{modelValue:g.projectForm.description,"onUpdate:modelValue":t[4]||(t[4]=e=>g.projectForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,l.Wm)(V,{label:"项目经理",prop:"manager"},{default:(0,l.w5)(()=>[(0,l.Wm)(C,{modelValue:g.projectForm.manager,"onUpdate:modelValue":t[5]||(t[5]=e=>g.projectForm.manager=e),placeholder:"请选择项目经理",style:{width:"100%"}},{default:(0,l.w5)(()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.users,e=>((0,l.wg)(),(0,l.j4)(v,{key:e.id,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,l.Wm)(V,{label:"开始日期",prop:"startDate"},{default:(0,l.w5)(()=>[(0,l.Wm)(U,{modelValue:g.projectForm.startDate,"onUpdate:modelValue":t[6]||(t[6]=e=>g.projectForm.startDate=e),type:"date",placeholder:"选择开始日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,l.Wm)(V,{label:"结束日期",prop:"endDate"},{default:(0,l.w5)(()=>[(0,l.Wm)(U,{modelValue:g.projectForm.endDate,"onUpdate:modelValue":t[7]||(t[7]=e=>g.projectForm.endDate=e),type:"date",placeholder:"选择结束日期",format:"YYYY年MM月DD日","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,l.Wm)(V,{label:"状态",prop:"status"},{default:(0,l.w5)(()=>[(0,l.Wm)(C,{modelValue:g.projectForm.status,"onUpdate:modelValue":t[8]||(t[8]=e=>g.projectForm.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:(0,l.w5)(()=>[(0,l.Wm)(v,{label:"未开始",value:"not-started"}),(0,l.Wm)(v,{label:"进行中",value:"in-progress"}),(0,l.Wm)(v,{label:"已完成",value:"completed"}),(0,l.Wm)(v,{label:"已暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),(0,l.Wm)(V,{label:"项目颜色"},{default:(0,l.w5)(()=>[(0,l.Wm)(z,{modelValue:g.projectForm.color,"onUpdate:modelValue":t[9]||(t[9]=e=>g.projectForm.color=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),(0,l.kq)(" 项目详情对话框 "),(0,l.Wm)(T,{modelValue:g.detailDialogVisible,"onUpdate:modelValue":t[14]||(t[14]=e=>g.detailDialogVisible=e),title:"项目详情",width:"800px"},{footer:(0,l.w5)(()=>[(0,l._)("span",m,[(0,l.Wm)(b,{onClick:t[13]||(t[13]=e=>g.detailDialogVisible=!1)},{default:(0,l.w5)(()=>[...t[22]||(t[22]=[(0,l.Uk)("关闭",-1)])]),_:1})])]),default:(0,l.w5)(()=>[(0,l.Wm)(A,{gutter:20},{default:(0,l.w5)(()=>[(0,l.Wm)(M,{span:16},{default:(0,l.w5)(()=>[(0,l.Wm)(Y,{column:1,border:""},{default:(0,l.w5)(()=>[(0,l.Wm)(S,{label:"项目名称"},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(g.detailProject.name),1)]),_:1}),(0,l.Wm)(S,{label:"项目描述"},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(g.detailProject.description),1)]),_:1}),(0,l.Wm)(S,{label:"项目经理"},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(g.detailProject.manager),1)]),_:1}),(0,l.Wm)(S,{label:"状态"},{default:(0,l.w5)(()=>[(0,l.Wm)(k,{type:h.getStatusType(g.detailProject.status)},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(h.getStatusText(g.detailProject.status)),1)]),_:1},8,["type"])]),_:1}),(0,l.Wm)(S,{label:"开始日期"},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(g.detailProject.startDate),1)]),_:1}),(0,l.Wm)(S,{label:"结束日期"},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(g.detailProject.endDate),1)]),_:1}),(0,l.Wm)(S,{label:"进度"},{default:(0,l.w5)(()=>[(0,l.Wm)(D,{percentage:g.detailProject.progress,status:h.getProgressStatus(g.detailProject.progress)},null,8,["percentage","status"])]),_:1})]),_:1})]),_:1}),(0,l.Wm)(M,{span:8},{default:(0,l.w5)(()=>[(0,l._)("div",{class:"project-avatar-detail",style:(0,l.j5)({backgroundColor:g.detailProject.color})},(0,l.zw)(g.detailProject.name.charAt(0).toUpperCase()),5)]),_:1})]),_:1}),(0,l.Wm)(q,{modelValue:g.activeTab,"onUpdate:modelValue":t[12]||(t[12]=e=>g.activeTab=e),style:{"margin-top":"20px"}},{default:(0,l.w5)(()=>[(0,l.Wm)($,{label:"任务",name:"tasks"},{default:(0,l.w5)(()=>[(0,l.Wm)(P,{data:g.projectTasks,style:{width:"100%"}},{default:(0,l.w5)(()=>[(0,l.Wm)(_,{prop:"title",label:"任务标题"}),(0,l.Wm)(_,{prop:"assignee",label:"负责人",width:"120"}),(0,l.Wm)(_,{label:"状态",width:"100"},{default:(0,l.w5)(({row:e})=>[(0,l.Wm)(k,{type:h.getTaskStatusType(e.status)},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(h.getTaskStatusText(e.status)),1)]),_:2},1032,["type"])]),_:1}),(0,l.Wm)(_,{prop:"dueDate",label:"截止日期",width:"120"})]),_:1},8,["data"])]),_:1}),(0,l.Wm)($,{label:"成员",name:"members"},{default:(0,l.w5)(()=>[(0,l.Wm)(P,{data:g.projectMembers,style:{width:"100%"}},{default:(0,l.w5)(()=>[(0,l.Wm)(_,{prop:"name",label:"姓名"}),(0,l.Wm)(_,{prop:"role",label:"角色"}),(0,l.Wm)(_,{prop:"email",label:"邮箱"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-24fd9b3c"]])}}]);