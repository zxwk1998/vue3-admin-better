"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["4900"],{19963:function(e,l,a){var t=a(74748),i=a.n(t),s=a(49490),o=a.n(s)()(i());o.push([e.id,".permissions-container[data-v-1d1eddf4]{padding:20px}.permissions-container .el-tag[data-v-1d1eddf4]{margin-bottom:5px}",""]),l.Z=o},76345:function(e,l,a){a.r(l),a.d(l,{default:function(){return U}});var t=a(78650);let i={class:"permissions-container"},s={class:"dialog-footer"},o={class:"dialog-footer"};var r=a(96453),d=a.n(r),u=a(88072),n=a.n(u),m=a(71420),p=a.n(m),w=a(8900),c=a.n(w),f=a(9911),b=a.n(f),g=a(27264),_=a.n(g),k=a(19963),V={};V.styleTagTransform=_(),V.setAttributes=c(),V.insert=p().bind(null,"head"),V.domAPI=n(),V.insertStyleElement=b(),d()(k.Z,V),k.Z&&k.Z.locals&&k.Z.locals;var U=(0,a(50131).default)({name:"Permissions",data:()=>({activeTab:"role",roleDialogVisible:!1,userDialogVisible:!1,currentRole:{id:"",name:"",permissions:[]},currentUser:{id:"",name:"",email:"",roles:[]},roles:[{id:"1",name:"管理员",permissions:["user:create","user:edit","user:delete","role:assign"]},{id:"2",name:"编辑者",permissions:["user:create","user:edit"]},{id:"3",name:"访客",permissions:[]}],users:[{id:"1",name:"张三",email:"zhangsan@example.com",roles:["1"]},{id:"2",name:"李四",email:"lisi@example.com",roles:["2"]},{id:"3",name:"王五",email:"wangwu@example.com",roles:["3"]}],permissionMap:{"user:create":"创建用户","user:edit":"编辑用户","user:delete":"删除用户","role:assign":"分配角色"},roleMap:{1:"管理员",2:"编辑者",3:"访客"}}),methods:{editRole(e){this.currentRole={...e},this.roleDialogVisible=!0},deleteRole(e){this.$message.warning(`删除角色: ${e.name}`)},saveRole(){this.$message.success("角色保存成功"),this.roleDialogVisible=!1},editUser(e){this.currentUser={...e},this.userDialogVisible=!0},deleteUser(e){this.$message.warning(`删除用户: ${e.name}`)},saveUser(){this.$message.success("用户保存成功"),this.userDialogVisible=!1}}},[["render",function(e,l,a,r,d,u){let n=(0,t.up)("el-table-column"),m=(0,t.up)("el-tag"),p=(0,t.up)("el-button"),w=(0,t.up)("el-table"),c=(0,t.up)("el-tab-pane"),f=(0,t.up)("el-tabs"),b=(0,t.up)("el-card"),g=(0,t.up)("el-input"),_=(0,t.up)("el-form-item"),k=(0,t.up)("el-checkbox"),V=(0,t.up)("el-checkbox-group"),U=(0,t.up)("el-form"),W=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(b,{shadow:"never"},{default:(0,t.w5)(()=>[(0,t.Wm)(f,{modelValue:d.activeTab,"onUpdate:modelValue":l[0]||(l[0]=e=>d.activeTab=e)},{default:(0,t.w5)(()=>[(0,t.Wm)(c,{label:"角色权限",name:"role"},{default:(0,t.w5)(()=>[(0,t.Wm)(w,{data:d.roles,style:{width:"100%"},"row-key":"id"},{default:(0,t.w5)(()=>[(0,t.Wm)(n,{prop:"name",label:"角色名称",width:"180"}),(0,t.Wm)(n,{label:"权限"},{default:(0,t.w5)(({row:e})=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.permissions,e=>((0,t.wg)(),(0,t.j4)(m,{key:e,style:{"margin-right":"10px"}},{default:(0,t.w5)(()=>[(0,t.Uk)((0,t.zw)(d.permissionMap[e]||e),1)]),_:2},1024))),128))]),_:1}),(0,t.Wm)(n,{label:"操作",width:"180"},{default:(0,t.w5)(({row:e})=>[(0,t.Wm)(p,{type:"text",onClick:l=>u.editRole(e)},{default:(0,t.w5)(()=>[...l[10]||(l[10]=[(0,t.Uk)("编辑",-1)])]),_:2},1032,["onClick"]),(0,t.Wm)(p,{type:"text",onClick:l=>u.deleteRole(e)},{default:(0,t.w5)(()=>[...l[11]||(l[11]=[(0,t.Uk)("删除",-1)])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),(0,t.Wm)(c,{label:"用户管理",name:"user"},{default:(0,t.w5)(()=>[(0,t.Wm)(w,{data:d.users,style:{width:"100%"},"row-key":"id"},{default:(0,t.w5)(()=>[(0,t.Wm)(n,{prop:"name",label:"用户名",width:"180"}),(0,t.Wm)(n,{label:"角色"},{default:(0,t.w5)(({row:e})=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.roles,e=>((0,t.wg)(),(0,t.j4)(m,{key:e,style:{"margin-right":"10px"}},{default:(0,t.w5)(()=>[(0,t.Uk)((0,t.zw)(d.roleMap[e]||e),1)]),_:2},1024))),128))]),_:1}),(0,t.Wm)(n,{prop:"email",label:"邮箱",width:"200"}),(0,t.Wm)(n,{label:"操作",width:"180"},{default:(0,t.w5)(({row:e})=>[(0,t.Wm)(p,{type:"text",onClick:l=>u.editUser(e)},{default:(0,t.w5)(()=>[...l[12]||(l[12]=[(0,t.Uk)("编辑",-1)])]),_:2},1032,["onClick"]),(0,t.Wm)(p,{type:"text",onClick:l=>u.deleteUser(e)},{default:(0,t.w5)(()=>[...l[13]||(l[13]=[(0,t.Uk)("删除",-1)])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.kq)(" 角色编辑对话框 "),(0,t.Wm)(W,{modelValue:d.roleDialogVisible,"onUpdate:modelValue":l[4]||(l[4]=e=>d.roleDialogVisible=e),title:"编辑角色",width:"500px"},{footer:(0,t.w5)(()=>[(0,t._)("span",s,[(0,t.Wm)(p,{onClick:l[3]||(l[3]=e=>d.roleDialogVisible=!1)},{default:(0,t.w5)(()=>[...l[14]||(l[14]=[(0,t.Uk)("取消",-1)])]),_:1}),(0,t.Wm)(p,{type:"primary",onClick:u.saveRole},{default:(0,t.w5)(()=>[...l[15]||(l[15]=[(0,t.Uk)("保存",-1)])]),_:1},8,["onClick"])])]),default:(0,t.w5)(()=>[(0,t.Wm)(U,{model:d.currentRole,"label-width":"80px"},{default:(0,t.w5)(()=>[(0,t.Wm)(_,{label:"角色名称"},{default:(0,t.w5)(()=>[(0,t.Wm)(g,{modelValue:d.currentRole.name,"onUpdate:modelValue":l[1]||(l[1]=e=>d.currentRole.name=e)},null,8,["modelValue"])]),_:1}),(0,t.Wm)(_,{label:"权限"},{default:(0,t.w5)(()=>[(0,t.Wm)(V,{modelValue:d.currentRole.permissions,"onUpdate:modelValue":l[2]||(l[2]=e=>d.currentRole.permissions=e)},{default:(0,t.w5)(()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.permissionMap,(e,l)=>((0,t.wg)(),(0,t.j4)(k,{key:l,label:l},{default:(0,t.w5)(()=>[(0,t.Uk)((0,t.zw)(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,t.kq)(" 用户编辑对话框 "),(0,t.Wm)(W,{modelValue:d.userDialogVisible,"onUpdate:modelValue":l[9]||(l[9]=e=>d.userDialogVisible=e),title:"编辑用户",width:"500px"},{footer:(0,t.w5)(()=>[(0,t._)("span",o,[(0,t.Wm)(p,{onClick:l[8]||(l[8]=e=>d.userDialogVisible=!1)},{default:(0,t.w5)(()=>[...l[16]||(l[16]=[(0,t.Uk)("取消",-1)])]),_:1}),(0,t.Wm)(p,{type:"primary",onClick:u.saveUser},{default:(0,t.w5)(()=>[...l[17]||(l[17]=[(0,t.Uk)("保存",-1)])]),_:1},8,["onClick"])])]),default:(0,t.w5)(()=>[(0,t.Wm)(U,{model:d.currentUser,"label-width":"80px"},{default:(0,t.w5)(()=>[(0,t.Wm)(_,{label:"用户名"},{default:(0,t.w5)(()=>[(0,t.Wm)(g,{modelValue:d.currentUser.name,"onUpdate:modelValue":l[5]||(l[5]=e=>d.currentUser.name=e)},null,8,["modelValue"])]),_:1}),(0,t.Wm)(_,{label:"邮箱"},{default:(0,t.w5)(()=>[(0,t.Wm)(g,{modelValue:d.currentUser.email,"onUpdate:modelValue":l[6]||(l[6]=e=>d.currentUser.email=e)},null,8,["modelValue"])]),_:1}),(0,t.Wm)(_,{label:"角色"},{default:(0,t.w5)(()=>[(0,t.Wm)(V,{modelValue:d.currentUser.roles,"onUpdate:modelValue":l[7]||(l[7]=e=>d.currentUser.roles=e)},{default:(0,t.w5)(()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.roleMap,(e,l)=>((0,t.wg)(),(0,t.j4)(k,{key:l,label:l},{default:(0,t.w5)(()=>[(0,t.Uk)((0,t.zw)(e),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-1d1eddf4"]])}}]);