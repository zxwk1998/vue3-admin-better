"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["9994"],{47717:function(e,a,l){var s=l(74748),t=l.n(s),r=l(49490),o=l.n(r)()(t());o.push([e.id,".settings-container[data-v-cfbec4fe]{padding:20px}.settings-container[data-v-cfbec4fe] .el-tabs__content{padding:20px 0}.settings-container .avatar-uploader .avatar[data-v-cfbec4fe]{width:120px;height:120px;display:block}.avatar-uploader .el-upload[data-v-cfbec4fe]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden;transition:var(--el-transition-duration-fast)}.avatar-uploader .el-upload[data-v-cfbec4fe]:hover{border-color:var(--el-color-primary)}.el-icon.avatar-uploader-icon[data-v-cfbec4fe]{font-size:28px;color:#8c939d;width:120px;height:120px;text-align:center}",""]),a.Z=o},8689:function(e,a,l){l.r(a),l.d(a,{default:function(){return W}});var s=l(78650);let t={class:"settings-container"},r=["src"];var o={name:"Settings",components:{Plus:l(57864).Plus},data:()=>({activeTab:"basic",basicForm:{siteName:"Vue Admin Better",description:"一个基于Vue 3和Element Plus的后台管理系统",logo:"",maintenanceMode:!1},securityForm:{minPasswordLength:8,twoFactorAuth:!1,sessionTimeout:30,maxLoginAttempts:5},emailForm:{smtpServer:"smtp.example.com",smtpPort:587,username:"user@example.com",password:"",senderEmail:"noreply@example.com"},basicRules:{siteName:[{required:!0,message:"请输入网站名称",trigger:"blur"}],description:[{required:!0,message:"请输入网站描述",trigger:"blur"}]},securityRules:{minPasswordLength:[{required:!0,message:"请输入密码最小长度",trigger:"blur"}],sessionTimeout:[{required:!0,message:"请输入会话超时时间",trigger:"blur"}],maxLoginAttempts:[{required:!0,message:"请输入登录失败尝试次数",trigger:"blur"}]},emailRules:{smtpServer:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}],smtpPort:[{required:!0,message:"请输入SMTP端口",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],senderEmail:[{required:!0,message:"请输入发件人邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]}}),methods:{handleAvatarSuccess(e,a){this.basicForm.logo=URL.createObjectURL(a.raw),this.$message.success("Logo上传成功")},beforeAvatarUpload(e){let a="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<2;return a||this.$message.error("Logo图片只能是 JPG 或 PNG 格式!"),l||this.$message.error("Logo图片大小不能超过 2MB!"),a&&l},saveBasicSettings(){this.$refs.basicFormRef.validate(e=>{e?this.$message.success("基本设置保存成功"):this.$message.error("请填写必填项")})},resetBasicForm(){this.$refs.basicFormRef.resetFields(),this.$message.info("表单已重置")},saveSecuritySettings(){this.$refs.securityFormRef.validate(e=>{e?this.$message.success("安全设置保存成功"):this.$message.error("请填写必填项")})},resetSecurityForm(){this.$refs.securityFormRef.resetFields(),this.$message.info("表单已重置")},saveEmailSettings(){this.$refs.emailFormRef.validate(e=>{e?this.$message.success("邮件设置保存成功"):this.$message.error("请填写必填项")})},resetEmailForm(){this.$refs.emailFormRef.resetFields(),this.$message.info("表单已重置")},testEmailConnection(){this.$refs.emailFormRef.validateField("smtpServer",e=>{e||(this.$message.info("正在测试邮件连接..."),setTimeout(()=>{this.$message.success("邮件连接测试成功")},1e3))})}}},m=l(96453),i=l.n(m),u=l(88072),d=l.n(u),n=l(71420),c=l.n(n),p=l(8900),g=l.n(p),f=l(9911),b=l.n(f),w=l(27264),h=l.n(w),F=l(47717),v={};v.styleTagTransform=h(),v.setAttributes=g(),v.insert=c().bind(null,"head"),v.domAPI=d(),v.insertStyleElement=b(),i()(F.Z,v),F.Z&&F.Z.locals&&F.Z.locals;var W=(0,l(50131).default)(o,[["render",function(e,a,l,o,m,i){let u=(0,s.up)("el-input"),d=(0,s.up)("el-form-item"),n=(0,s.up)("Plus"),c=(0,s.up)("el-icon"),p=(0,s.up)("el-upload"),g=(0,s.up)("el-switch"),f=(0,s.up)("el-button"),b=(0,s.up)("el-form"),w=(0,s.up)("el-tab-pane"),h=(0,s.up)("el-input-number"),F=(0,s.up)("el-tabs"),v=(0,s.up)("el-card");return(0,s.wg)(),(0,s.iD)("div",t,[(0,s.Wm)(v,{shadow:"never"},{default:(0,s.w5)(()=>[(0,s.Wm)(F,{modelValue:m.activeTab,"onUpdate:modelValue":a[12]||(a[12]=e=>m.activeTab=e)},{default:(0,s.w5)(()=>[(0,s.Wm)(w,{label:"基本设置",name:"basic"},{default:(0,s.w5)(()=>[(0,s.Wm)(b,{ref:"basicFormRef",model:m.basicForm,rules:m.basicRules,"label-width":"120px",style:{"max-width":"600px"}},{default:(0,s.w5)(()=>[(0,s.Wm)(d,{label:"网站名称",prop:"siteName"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{modelValue:m.basicForm.siteName,"onUpdate:modelValue":a[0]||(a[0]=e=>m.basicForm.siteName=e)},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"网站描述",prop:"description"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{modelValue:m.basicForm.description,"onUpdate:modelValue":a[1]||(a[1]=e=>m.basicForm.description=e),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"网站Logo"},{default:(0,s.w5)(()=>[(0,s.Wm)(p,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":i.handleAvatarSuccess,"before-upload":i.beforeAvatarUpload},{default:(0,s.w5)(()=>[m.basicForm.logo?((0,s.wg)(),(0,s.iD)("img",{key:0,src:m.basicForm.logo,class:"avatar",alt:"Logo"},null,8,r)):((0,s.wg)(),(0,s.j4)(c,{key:1,class:"avatar-uploader-icon"},{default:(0,s.w5)(()=>[(0,s.Wm)(n)]),_:1}))]),_:1},8,["on-success","before-upload"])]),_:1}),(0,s.Wm)(d,{label:"启用维护模式"},{default:(0,s.w5)(()=>[(0,s.Wm)(g,{modelValue:m.basicForm.maintenanceMode,"onUpdate:modelValue":a[2]||(a[2]=e=>m.basicForm.maintenanceMode=e)},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)(()=>[(0,s.Wm)(f,{type:"primary",onClick:i.saveBasicSettings},{default:(0,s.w5)(()=>[...a[13]||(a[13]=[(0,s.Uk)("保存设置",-1)])]),_:1},8,["onClick"]),(0,s.Wm)(f,{onClick:i.resetBasicForm},{default:(0,s.w5)(()=>[...a[14]||(a[14]=[(0,s.Uk)("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),(0,s.Wm)(w,{label:"安全设置",name:"security"},{default:(0,s.w5)(()=>[(0,s.Wm)(b,{ref:"securityFormRef",model:m.securityForm,rules:m.securityRules,"label-width":"150px",style:{"max-width":"600px"}},{default:(0,s.w5)(()=>[(0,s.Wm)(d,{label:"密码最小长度",prop:"minPasswordLength"},{default:(0,s.w5)(()=>[(0,s.Wm)(h,{modelValue:m.securityForm.minPasswordLength,"onUpdate:modelValue":a[3]||(a[3]=e=>m.securityForm.minPasswordLength=e),min:6,max:20},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"启用双重认证"},{default:(0,s.w5)(()=>[(0,s.Wm)(g,{modelValue:m.securityForm.twoFactorAuth,"onUpdate:modelValue":a[4]||(a[4]=e=>m.securityForm.twoFactorAuth=e)},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"会话超时时间(分钟)",prop:"sessionTimeout"},{default:(0,s.w5)(()=>[(0,s.Wm)(h,{modelValue:m.securityForm.sessionTimeout,"onUpdate:modelValue":a[5]||(a[5]=e=>m.securityForm.sessionTimeout=e),min:1,max:1440},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"登录失败尝试次数",prop:"maxLoginAttempts"},{default:(0,s.w5)(()=>[(0,s.Wm)(h,{modelValue:m.securityForm.maxLoginAttempts,"onUpdate:modelValue":a[6]||(a[6]=e=>m.securityForm.maxLoginAttempts=e),min:1,max:10},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)(()=>[(0,s.Wm)(f,{type:"primary",onClick:i.saveSecuritySettings},{default:(0,s.w5)(()=>[...a[15]||(a[15]=[(0,s.Uk)("保存设置",-1)])]),_:1},8,["onClick"]),(0,s.Wm)(f,{onClick:i.resetSecurityForm},{default:(0,s.w5)(()=>[...a[16]||(a[16]=[(0,s.Uk)("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),(0,s.Wm)(w,{label:"邮件设置",name:"email"},{default:(0,s.w5)(()=>[(0,s.Wm)(b,{ref:"emailFormRef",model:m.emailForm,rules:m.emailRules,"label-width":"120px",style:{"max-width":"600px"}},{default:(0,s.w5)(()=>[(0,s.Wm)(d,{label:"SMTP服务器",prop:"smtpServer"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{modelValue:m.emailForm.smtpServer,"onUpdate:modelValue":a[7]||(a[7]=e=>m.emailForm.smtpServer=e)},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"SMTP端口",prop:"smtpPort"},{default:(0,s.w5)(()=>[(0,s.Wm)(h,{modelValue:m.emailForm.smtpPort,"onUpdate:modelValue":a[8]||(a[8]=e=>m.emailForm.smtpPort=e),min:1,max:65535},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"用户名",prop:"username"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{modelValue:m.emailForm.username,"onUpdate:modelValue":a[9]||(a[9]=e=>m.emailForm.username=e)},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"密码",prop:"password"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{modelValue:m.emailForm.password,"onUpdate:modelValue":a[10]||(a[10]=e=>m.emailForm.password=e),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,{label:"发件人邮箱",prop:"senderEmail"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{modelValue:m.emailForm.senderEmail,"onUpdate:modelValue":a[11]||(a[11]=e=>m.emailForm.senderEmail=e)},null,8,["modelValue"])]),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)(()=>[(0,s.Wm)(f,{type:"primary",onClick:i.saveEmailSettings},{default:(0,s.w5)(()=>[...a[17]||(a[17]=[(0,s.Uk)("保存设置",-1)])]),_:1},8,["onClick"]),(0,s.Wm)(f,{onClick:i.resetEmailForm},{default:(0,s.w5)(()=>[...a[18]||(a[18]=[(0,s.Uk)("重置",-1)])]),_:1},8,["onClick"]),(0,s.Wm)(f,{onClick:i.testEmailConnection},{default:(0,s.w5)(()=>[...a[19]||(a[19]=[(0,s.Uk)("测试连接",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}],["__scopeId","data-v-cfbec4fe"]])}}]);