"use strict";(self.webpackChunkvue_admin_better=self.webpackChunkvue_admin_better||[]).push([["1728"],{826:function(e,t,o){o.d(t,{a:function(){return X}});var a=o(2492),n=o(95093),i=o(99659),r=o(30503),l=o(1170),s=o(59849),u=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.hasSymbolVisual=!0,o}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e){return(0,n.A)(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new l.A,o=(0,r.v5)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(o),o.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),n=this.getData().getVisual("symbolRotate"),i="none"===a?"circle":a,u=.8*e.itemHeight,d=(0,r.v5)(i,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);return t.add(d),d.setStyle(e.itemStyle),d.rotation=("inherit"===e.iconRotate?n:e.iconRotate||0)*Math.PI/180,d.setOrigin([e.itemWidth/2,e.itemHeight/2]),i.indexOf("empty")>-1&&(d.style.stroke=d.style.fill,d.style.fill=s.A.color.neutral00,d.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(i.A),d=o(39238),h=o(92354),c=o(16832),p=o(32416);function g(e,t,o){var a,n,i,r,l=e.getBaseAxis(),s=e.getOtherAxis(l),u=(a=s,n=o,i=0,r=a.scale.getExtent(),"start"===n?i=r[0]:"end"===n?i=r[1]:(0,d.Et)(n)&&!isNaN(n)?i=n:r[0]>0?i=r[0]:r[1]<0&&(i=r[1]),i),h=l.dim,c=s.dim,g=t.mapDimension(c),y=t.mapDimension(h),f=+("x"===c||"radius"===c),v=(0,d.Tj)(e.dimensions,function(e){return t.mapDimension(e)}),m=!1,x=t.getCalculationInfo("stackResultDimension");return(0,p.sJ)(t,v[0])&&(m=!0,v[0]=x),(0,p.sJ)(t,v[1])&&(m=!0,v[1]=x),{dataDimsForPoint:v,valueStart:u,valueAxisDim:c,baseAxisDim:h,stacked:!!m,valueDim:g,baseDim:y,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function y(e,t,o,a){var n=NaN;e.stacked&&(n=o.get(o.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=e.valueStart);var i=e.baseDataOffset,r=[];return r[i]=o.get(e.baseDim,a),r[1-i]=n,t.dataToPoint(r)}var f=o(35853),v=o(33112),m=o(13430),x=o(79230),_=o(1018),b=o(30212),w=o(48282),S=o(89395),A=o(65609),I=o(73217),L=o(77616),M=o(70820),D=o(38822),N=o(24804),C=o(9894);function T(e,t){if(e.length===t.length){for(var o=0;o<e.length;o++)if(e[o]!==t[o])return;return!0}}function P(e){for(var t=1/0,o=1/0,a=-1/0,n=-1/0,i=0;i<e.length;){var r=e[i++],l=e[i++];isNaN(r)||(t=Math.min(r,t),a=Math.max(r,a)),isNaN(l)||(o=Math.min(l,o),n=Math.max(l,n))}return[[t,o],[a,n]]}function V(e,t){var o=P(e),a=o[0],n=o[1],i=P(t),r=i[0],l=i[1];return Math.max(Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]),Math.abs(n[0]-l[0]),Math.abs(n[1]-l[1]))}function R(e){return d.Et(e)?e:.5*!!e}function E(e,t,o,a,n){var i=o.getBaseAxis(),r=+("x"!==i.dim&&"radius"!==i.dim),l=[],s=0,u=[],d=[],h=[],c=[];if(n){for(s=0;s<e.length;s+=2){var p=t||e;isNaN(p[s])||isNaN(p[s+1])||c.push(e[s],e[s+1])}e=c}for(s=0;s<e.length-2;s+=2)switch(h[0]=e[s+2],h[1]=e[s+3],d[0]=e[s],d[1]=e[s+1],l.push(d[0],d[1]),a){case"end":u[r]=h[r],u[1-r]=d[1-r],l.push(u[0],u[1]);break;case"middle":var g=(d[r]+h[r])/2,y=[];u[r]=y[r]=g,u[1-r]=d[1-r],y[1-r]=h[1-r],l.push(u[0],u[1]),l.push(y[0],y[1]);break;default:u[r]=d[r],u[1-r]=h[1-r],l.push(u[0],u[1])}return l.push(e[s++],e[s++]),l}function k(e,t){return[e[2*t],e[2*t+1]]}function O(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<I.BV.length;t++)if(e.get([I.BV[t],"endLabel","show"]))return!0;return!1}function z(e,t,o,a){if(!(0,A.g)(t,"cartesian2d"))return(0,S.Mi)(t,o,a);var n=a.getModel("endLabel"),i=n.get("valueAnimation"),r=a.getData(),l={lastFrameIndex:0},s=O(a)?function(o,a){e._endLabelOnDuring(o,a,r,l,i,n,t)}:null,u=t.getBaseAxis().isHorizontal(),d=(0,S.SM)(t,o,a,function(){var t=e._endLabel;t&&o&&null!=l.originalX&&t.attr({x:l.originalX,y:l.originalY})},s);if(!a.get("clip",!0)){var h=d.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=2*c):(h.x-=c,h.width+=2*c)}return s&&s(1,d),d}var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t.prototype.init=function(){var e=new l.A,t=new h.A;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e,this._changePolyState=d.oI(this._changePolyState,this)},t.prototype.render=function(e,t,o){var a,n=e.coordinateSystem,i=this.group,r=e.getData(),l=e.getModel("lineStyle"),s=e.getModel("areaStyle"),u=r.getLayout("points")||[],h="polar"===n.type,p=this._coordSys,x=this._symbolDraw,_=this._polyline,b=this._polygon,w=this._lineGroup,S=!t.ssr&&e.get("animation"),A=!s.isEmpty(),L=s.get("origin"),M=g(n,r,L),P=A&&function(e,t,o){if(!o.valueDim)return[];for(var a=t.count(),n=(0,f.J)(2*a),i=0;i<a;i++){var r=y(o,e,t,i);n[2*i]=r[0],n[2*i+1]=r[1]}return n}(n,r,M),V=e.get("showSymbol"),k=e.get("connectNulls"),O=V&&!h&&function(e,t,o){var a=e.get("showAllSymbol"),n="auto"===a;if(!a||n){var i=o.getAxesByScale("ordinal")[0];if(i&&!(n&&function(e,t){var o=e.getExtent(),a=Math.abs(o[1]-o[0])/e.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),r=0;r<n;r+=i)if(1.5*c.A.getSymbolSize(t,r)[+!!e.isHorizontal()]>a)return!1;return!0}(i,t))){var r=t.mapDimension(i.dim),l={};return d.__(i.getViewLabels(),function(e){l[i.scale.getRawOrdinalNumber(e.tickValue)]=1}),function(e){return!l.hasOwnProperty(t.get(r,e))}}}}(e,r,n),G=this._data;G&&G.eachItemGraphicEl(function(e,t){e.__temp&&(i.remove(e),G.setItemGraphicEl(t,null))}),V||x.remove(),i.add(w);var B=!h&&e.get("step");n&&n.getArea&&e.get("clip",!0)&&(null!=(a=n.getArea()).width?(a.x-=.1,a.y-=.1,a.width+=.2,a.height+=.2):a.r0&&(a.r0-=.5,a.r+=.5)),this._clipShapeForSymbol=a;var W=function(e,t,o){var a,n,i=e.getVisual("visualMeta");if(i&&i.length&&e.count()){if("cartesian2d"!==t.type)return;for(var r=i.length-1;r>=0;r--){var l=e.getDimensionInfo(i[r].dimension);if("x"===(a=l&&l.coordDim)||"y"===a){n=i[r];break}}if(!n)return;var s=t.getAxis(a),u=d.Tj(n.stops,function(e){return{coord:s.toGlobalCoord(s.dataToCoord(e.value)),color:e.color}}),h=u.length,c=n.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var p=function(e,t){var o,a,n=[],i=e.length;function r(e,t,o){var a=e.coord,n=(o-a)/(t.coord-a);return{coord:o,color:(0,C.Cc)(n,[e.color,t.color])}}for(var l=0;l<i;l++){var s=e[l],u=s.coord;if(u<0)o=s;else if(u>t){a?n.push(r(a,s,t)):o&&n.push(r(o,s,0),r(o,s,t));break}else o&&(n.push(r(o,s,0)),o=null),n.push(s),a=s}return n}(u,"x"===a?o.getWidth():o.getHeight()),g=p.length;if(!g&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var y=p[0].coord-10,f=p[g-1].coord+10,m=f-y;if(m<.001)return"transparent";d.__(p,function(e){e.offset=(e.coord-y)/m}),p.push({offset:g?p[g-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:c[0]||"transparent"});var x=new v.A(0,0,0,0,p,!0);return x[a]=y,x[a+"2"]=f,x}}(r,n,o)||r.getVisual("style")[r.getVisual("drawType")];if(_&&p.type===n.type&&B===this._step){A&&!b?b=this._newPolygon(u,P):b&&!A&&(w.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(e,n,(0,N.he)(W));var X=w.getClipPath();if(X){var F=z(this,n,!1,e);m.LW(X,{shape:F.shape},e)}else w.setClipPath(z(this,n,!0,e));V&&x.updateData(r,{isIgnore:O,clipShape:a,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),T(this._stackedOnPoints,P)&&T(this._points,u)||(S?this._doUpdateAnimation(r,P,n,o,B,L,k):(B&&(P&&(P=E(P,u,n,B,k)),u=E(u,null,n,B,k)),_.setShape({points:u}),b&&b.setShape({points:u,stackedOnPoints:P})))}else V&&x.updateData(r,{isIgnore:O,clipShape:a,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),S&&this._initSymbolLabelAnimation(r,n,a),B&&(P&&(P=E(P,u,n,B,k)),u=E(u,null,n,B,k)),_=this._newPolyline(u),A?b=this._newPolygon(u,P):b&&(w.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(e,n,(0,N.he)(W)),w.setClipPath(z(this,n,!0,e));var H=e.getModel("emphasis"),Y=H.get("focus"),U=H.get("blurScope"),q=H.get("disabled");_.useStyle(d.NT(l.getLineStyle(),{fill:"none",stroke:W,lineJoin:"bevel"})),(0,I.Mx)(_,e,"lineStyle"),_.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(_.getState("emphasis").style.lineWidth=+_.style.lineWidth+1),(0,D.z)(_).seriesIndex=e.seriesIndex,(0,I.Lm)(_,Y,U,q);var Z=R(e.get("smooth")),j=e.get("smoothMonotone");if(_.setShape({smooth:Z,smoothMonotone:j,connectNulls:k}),b){var $=r.getCalculationInfo("stackedOnSeries"),J=0;b.useStyle(d.NT(s.getAreaStyle(),{fill:W,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),$&&(J=R($.get("smooth"))),b.setShape({smooth:Z,stackedOnSmooth:J,smoothMonotone:j,connectNulls:k}),(0,I.Mx)(b,e,"areaStyle"),(0,D.z)(b).seriesIndex=e.seriesIndex,(0,I.Lm)(b,Y,U,q)}var Q=this._changePolyState;r.eachItemGraphicEl(function(e){e&&(e.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=r,this._coordSys=n,this._stackedOnPoints=P,this._points=u,this._step=B,this._valueOrigin=L,e.get("triggerLineEvent")&&(this.packEventData(e,_),b&&this.packEventData(e,b))},t.prototype.packEventData=function(e,t){(0,D.z)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,o,a){var n=e.getData(),i=_.le(n,a);if(this._changePolyState("emphasis"),i instanceof Array||null==i||!(i>=0))w.A.prototype.highlight.call(this,e,t,o,a);else{var r=n.getLayout("points"),l=n.getItemGraphicEl(i);if(!l){var s=r[2*i],u=r[2*i+1];if(isNaN(s)||isNaN(u)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,u))return;var d=e.get("zlevel")||0,h=e.get("z")||0;(l=new c.A(n,i)).x=s,l.y=u,l.setZ(d,h);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),l.__temp=!0,n.setItemGraphicEl(i,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}},t.prototype.downplay=function(e,t,o,a){var n=e.getData(),i=_.le(n,a);if(this._changePolyState("normal"),null!=i&&i>=0){var r=n.getItemGraphicEl(i);r&&(r.__temp?(n.setItemGraphicEl(i,null),this.group.remove(r)):r.downplay())}else w.A.prototype.downplay.call(this,e,t,o,a)},t.prototype._changePolyState=function(e){var t=this._polygon;(0,I.Pk)(this._polyline,e),t&&(0,I.Pk)(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new b.N({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new b.z({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},t.prototype._initSymbolLabelAnimation=function(e,t,o){var a,n,i=t.getBaseAxis(),r=i.inverse;"cartesian2d"===t.type?(a=i.isHorizontal(),n=!1):"polar"===t.type&&(a="angle"===i.dim,n=!0);var l=e.hostModel,s=l.get("animationDuration");d.Tn(s)&&(s=s(null));var u=l.get("animationDelay")||0,h=d.Tn(u)?u(null):u;e.eachItemGraphicEl(function(e,i){if(e){var l=[e.x,e.y],c=void 0,p=void 0,g=void 0;if(o)if(n){var y=t.pointToCoord(l);a?(c=o.startAngle,p=o.endAngle,g=-y[1]/180*Math.PI):(c=o.r0,p=o.r,g=y[0])}else a?(c=o.x,p=o.x+o.width,g=e.x):(c=o.y+o.height,p=o.y,g=e.y);var f=p===c?0:(g-c)/(p-c);r&&(f=1-f);var v=d.Tn(u)?u(i):s*f+h,m=e.getSymbolPath(),x=m.getTextContent();e.attr({scaleX:0,scaleY:0}),e.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:v}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:v}),m.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,t,o){var a=e.getModel("endLabel");if(O(e)){var n,i,r,l=e.getData(),s=this._polyline,u=l.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var d=this._endLabel;d||((d=this._endLabel=new x.Ay({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=function(e){for(var t,o,a=e.length/2;a>0&&(t=e[2*a-2],o=e[2*a-1],isNaN(t)||isNaN(o));a--);return a-1}(u);h>=0&&((0,L.qM)(s,(0,L.lx)(e,"endLabel"),{inheritColor:o,labelFetcher:e,labelDataIndex:h,defaultText:function(e,t,o){return null!=o?(0,M.T)(l,o):(0,M.i)(l,e)},enableTextSetter:!0},(i=(n=t.getBaseAxis()).isHorizontal(),r=n.inverse,{normal:{align:a.get("align")||(i?r?"right":"left":"center"),verticalAlign:a.get("verticalAlign")||(i?"middle":r?"top":"bottom")}})),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,o,a,n,i,r){var l=this._endLabel,s=this._polyline;if(l){e<1&&null==a.originalX&&(a.originalX=l.x,a.originalY=l.y);var u=o.getLayout("points"),d=o.hostModel,h=d.get("connectNulls"),c=i.get("precision"),p=i.get("distance")||0,g=r.getBaseAxis(),y=g.isHorizontal(),f=g.inverse,v=t.shape,m=f?y?v.x:v.y+v.height:y?v.x+v.width:v.y,x=(y?p:0)*(f?-1:1),b=(y?0:-p)*(f?-1:1),w=y?"x":"y",S=function(e,t,o){for(var a,n,i=e.length/2,r=+("x"!==o),l=0,s=-1,u=0;u<i;u++)if(!(isNaN(n=e[2*u+r])||isNaN(e[2*u+1-r]))){if(0===u){a=n;continue}if(a<=t&&n>=t||a>=t&&n<=t){s=u;break}l=u,a=n}return{range:[l,s],t:(t-a)/(n-a)}}(u,m,w),A=S.range,I=A[1]-A[0],M=void 0;if(I>=1){if(I>1&&!h){var D=k(u,A[0]);l.attr({x:D[0]+x,y:D[1]+b}),n&&(M=d.getRawValue(A[0]))}else{var D=s.getPointOn(m,w);D&&l.attr({x:D[0]+x,y:D[1]+b});var N=d.getRawValue(A[0]),C=d.getRawValue(A[1]);n&&(M=_.Il(o,c,N,C,S.t))}a.lastFrameIndex=A[0]}else{var T=1===e||a.lastFrameIndex>0?A[0]:0,D=k(u,T);n&&(M=d.getRawValue(T)),l.attr({x:D[0]+x,y:D[1]+b})}if(n){var P=(0,L.Lu)(l);"function"==typeof P.setLabelText&&P.setLabelText(M)}}},t.prototype._doUpdateAnimation=function(e,t,o,a,n,i,r){var l=this._polyline,s=this._polygon,u=e.hostModel,d=function(e,t,o,a,n,i,r,l){for(var s,u=(s=[],t.diff(e).add(function(e){s.push({cmd:"+",idx:e})}).update(function(e,t){s.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){s.push({cmd:"-",idx:e})}).execute(),s),d=[],h=[],c=[],p=[],v=[],m=[],x=[],_=g(n,t,r),b=e.getLayout("points")||[],w=t.getLayout("points")||[],S=0;S<u.length;S++){var A=u[S],I=!0,L=void 0,M=void 0;switch(A.cmd){case"=":L=2*A.idx,M=2*A.idx1;var D=b[L],N=b[L+1],C=w[M],T=w[M+1];(isNaN(D)||isNaN(N))&&(D=C,N=T),d.push(D,N),h.push(C,T),c.push(o[L],o[L+1]),p.push(a[M],a[M+1]),x.push(t.getRawIndex(A.idx1));break;case"+":var P=A.idx,V=_.dataDimsForPoint,R=n.dataToPoint([t.get(V[0],P),t.get(V[1],P)]);M=2*P,d.push(R[0],R[1]),h.push(w[M],w[M+1]);var E=y(_,n,t,P);c.push(E[0],E[1]),p.push(a[M],a[M+1]),x.push(t.getRawIndex(P));break;case"-":I=!1}I&&(v.push(A),m.push(m.length))}m.sort(function(e,t){return x[e]-x[t]});for(var k=d.length,O=(0,f.J)(k),z=(0,f.J)(k),G=(0,f.J)(k),B=(0,f.J)(k),W=[],S=0;S<m.length;S++){var X=m[S],F=2*S,H=2*X;O[F]=d[H],O[F+1]=d[H+1],z[F]=h[H],z[F+1]=h[H+1],G[F]=c[H],G[F+1]=c[H+1],B[F]=p[H],B[F+1]=p[H+1],W[S]=v[X]}return{current:O,next:z,stackedOnCurrent:G,stackedOnNext:B,status:W}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin,0),h=d.current,c=d.stackedOnCurrent,p=d.next,v=d.stackedOnNext;if(n&&(c=E(d.stackedOnCurrent,d.current,o,n,r),h=E(d.current,null,o,n,r),v=E(d.stackedOnNext,d.next,o,n,r),p=E(d.next,null,o,n,r)),V(h,p)>3e3||s&&V(c,v)>3e3){l.stopAnimation(),l.setShape({points:p}),s&&(s.stopAnimation(),s.setShape({points:p,stackedOnPoints:v}));return}l.shape.__points=d.current,l.shape.points=h;var x={shape:{points:p}};d.current!==h&&(x.shape.__points=d.next),l.stopAnimation(),m.oi(l,x,u),s&&(s.setShape({points:h,stackedOnPoints:c}),s.stopAnimation(),m.oi(s,{shape:{stackedOnPoints:v}},u),l.shape.points!==s.shape.points&&(s.shape.points=l.shape.points));for(var _=[],b=d.status,w=0;w<b.length;w++)if("="===b[w].cmd){var S=e.getItemGraphicEl(b[w].idx1);S&&_.push({el:S,ptIdx:w})}l.animators&&l.animators.length&&l.animators[0].during(function(){s&&s.dirtyShape();for(var e=l.shape.__points,t=0;t<_.length;t++){var o=_[t].el,a=2*_[t].ptIdx;o.x=e[a],o.y=e[a+1],o.markRedraw()}})},t.prototype.remove=function(e){var t=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(e,a){e.__temp&&(t.remove(e),o.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(w.A),B=o(34506),W=o(7191);function X(e){e.registerChartView(G),e.registerSeriesModel(u),e.registerLayout((0,B.A)("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),o=e.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",o)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(0,W.A)("line"))}},30212:function(e,t,o){o.d(t,{N:function(){return p},z:function(){return y}});var a=o(2492),n=o(51315),i=o(37673),r=o(52271),l=o(59849),s=Math.min,u=Math.max;function d(e,t){return isNaN(e)||isNaN(t)}function h(e,t,o,a,n,i,r,l,h){for(var c,p,g,y,f,v,m=o,x=0;x<a;x++){var _=t[2*m],b=t[2*m+1];if(m>=n||m<0)break;if(d(_,b)){if(h){m+=i;continue}break}if(m===o)e[i>0?"moveTo":"lineTo"](_,b),g=_,y=b;else{var w=_-c,S=b-p;if(w*w+S*S<.5){m+=i;continue}if(r>0){for(var A=m+i,I=t[2*A],L=t[2*A+1];I===_&&L===b&&x<a;)x++,A+=i,m+=i,I=t[2*A],L=t[2*A+1],_=t[2*m],b=t[2*m+1],w=_-c,S=b-p;var M=x+1;if(h)for(;d(I,L)&&M<a;)M++,A+=i,I=t[2*A],L=t[2*A+1];var D=.5,N=0,C=0,T=void 0,P=void 0;if(M>=a||d(I,L))f=_,v=b;else{N=I-c,C=L-p;var V=_-c,R=I-_,E=b-p,k=L-b,O=void 0,z=void 0;if("x"===l){O=Math.abs(V),z=Math.abs(R);var G=N>0?1:-1;f=_-G*O*r,v=b,T=_+G*z*r,P=b}else if("y"===l){O=Math.abs(E),z=Math.abs(k);var B=C>0?1:-1;f=_,v=b-B*O*r,T=_,P=b+B*z*r}else O=Math.sqrt(V*V+E*E),f=_-N*r*(1-(D=(z=Math.sqrt(R*R+k*k))/(z+O))),v=b-C*r*(1-D),T=_+N*r*D,P=b+C*r*D,T=s(T,u(I,_)),P=s(P,u(L,b)),T=u(T,s(I,_)),P=u(P,s(L,b)),N=T-_,C=P-b,f=_-N*O/z,v=b-C*O/z,f=s(f,u(c,_)),v=s(v,u(p,b)),f=u(f,s(c,_)),v=u(v,s(p,b)),N=_-f,C=b-v,T=_+N*z/O,P=b+C*z/O}e.bezierCurveTo(g,y,f,v,_,b),g=T,y=P}else e.lineTo(_,b)}c=_,p=b,m+=i}return x}var c=function(){this.smooth=0,this.smoothConstraint=!0},p=function(e){function t(t){var o=e.call(this,t)||this;return o.type="ec-polyline",o}return(0,a.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:l.A.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new c},t.prototype.buildPath=function(e,t){var o=t.points,a=0,n=o.length/2;if(t.connectNulls){for(;n>0&&d(o[2*n-2],o[2*n-1]);n--);for(;a<n&&d(o[2*a],o[2*a+1]);a++);}for(;a<n;)a+=h(e,o,a,n,n,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o,a,n=this.path.data,l=i.A.CMD,s="x"===t,u=[],d=0;d<n.length;){var h=n[d++],c=void 0,p=void 0,g=void 0,y=void 0,f=void 0,v=void 0,m=void 0;switch(h){case l.M:o=n[d++],a=n[d++];break;case l.L:if(c=n[d++],p=n[d++],(m=s?(e-o)/(c-o):(e-a)/(p-a))<=1&&m>=0){var x=s?(p-a)*m+a:(c-o)*m+o;return s?[e,x]:[x,e]}o=c,a=p;break;case l.C:c=n[d++],p=n[d++],g=n[d++],y=n[d++],f=n[d++],v=n[d++];var _=s?(0,r._E)(o,c,g,f,e,u):(0,r._E)(a,p,y,v,e,u);if(_>0)for(var b=0;b<_;b++){var w=u[b];if(w<=1&&w>=0){var x=s?(0,r.Yb)(a,p,y,v,w):(0,r.Yb)(o,c,g,f,w);return s?[e,x]:[x,e]}}o=f,a=v}}},t}(n.Ay),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t}(c),y=function(e){function t(t){var o=e.call(this,t)||this;return o.type="ec-polygon",o}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new g},t.prototype.buildPath=function(e,t){var o=t.points,a=t.stackedOnPoints,n=0,i=o.length/2,r=t.smoothMonotone;if(t.connectNulls){for(;i>0&&d(o[2*i-2],o[2*i-1]);i--);for(;n<i&&d(o[2*n],o[2*n+1]);n++);}for(;n<i;){var l=h(e,o,n,i,i,1,t.smooth,r,t.connectNulls);h(e,a,n+l-1,l,i,-1,t.stackedOnSmooth,r,t.connectNulls),n+=l+1,e.closePath()}},t}(n.Ay)},3864:function(e,t,o){o.d(t,{a:function(){return S}});var a=o(2492),n=o(91436),i=o(7635),r=o(12394),l=o(8352),s=o(81637),u=o(27721),d={seriesType:"lines",plan:(0,o(60558).A)(),reset:function(e){var t=e.coordinateSystem;if(t){var o=e.get("polyline"),a=e.pipelineContext.large;return{progress:function(n,i){var r=[];if(a){var l=void 0,s=n.end-n.start;if(o){for(var u=0,d=n.start;d<n.end;d++)u+=e.getLineCoordsCount(d);l=new Float32Array(s+2*u)}else l=new Float32Array(4*s);for(var h=0,c=[],d=n.start;d<n.end;d++){var p=e.getLineCoords(d,r);o&&(l[h++]=p);for(var g=0;g<p;g++)c=t.dataToPoint(r[g],!1,c),l[h++]=c[0],l[h++]=c[1]}i.setLayout("linesPoints",l)}else for(var d=n.start;d<n.end;d++){var y=i.getItemModel(d),p=e.getLineCoords(d,r),f=[];if(o)for(var v=0;v<p;v++)f.push(t.dataToPoint(r[v]));else{f[0]=t.dataToPoint(r[0]),f[1]=t.dataToPoint(r[1]);var m=y.get(["lineStyle","curveness"]);+m&&(f[2]=[(f[0][0]+f[1][0])/2-(f[0][1]-f[1][1])*m,(f[0][1]+f[1][1])/2-(f[1][0]-f[0][0])*m])}i.setItemLayout(d,f)}}}}}},h=o(89395),c=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,a.C6)(t,e),t.prototype.render=function(e,t,o){var a=e.getData(),n=this._updateLineDraw(a,e),i=e.get("zlevel"),r=e.get(["effect","trailLength"]),l=o.getZr(),s="svg"===l.painter.getType();s||l.painter.getLayer(i).clear(!0),null==this._lastZlevel||s||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r>0&&(s||l.configLayer(i,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),n.updateData(a);var u=e.get("clip",!0)&&(0,h.Ip)(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=i,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,o){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(o),this._finished=!1},t.prototype.incrementalRender=function(e,t,o){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,o){var a=e.getData(),n=e.pipelineContext;if(!this._finished||n.large||n.progressiveRender)return{update:!0};var i=d.reset(e,t,o);i.progress&&i.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(o)},t.prototype._updateLineDraw=function(e,t){var o=this._lineDraw,a=this._showEffect(t),d=!!t.get("polyline"),h=t.pipelineContext.large;return o&&a===this._hasEffet&&d===this._isPolyline&&h===this._isLargeDraw||(o&&o.remove(),o=this._lineDraw=h?new u.A:new n.A(d?a?s.A:l.A:a?i.A:r.A),this._hasEffet=a,this._isPolyline=d,this._isLargeDraw=h),this.group.add(o.group),o},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"!==t.painter.getType()&&null!=this._lastZlevel&&t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(o(48282).A),p=o(99659),g=o(85382),y=o(39238),f=o(35241),v="undefined"==typeof Uint32Array?Array:Uint32Array,m="undefined"==typeof Float64Array?Array:Float64Array;function x(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,y.Tj)(t,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),(0,y.Um)([t,e[0],e[1]])}))}var _=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.visualStyleAccessPath="lineStyle",o.visualDrawType="stroke",o}return(0,a.C6)(t,e),t.prototype.init=function(t){t.data=t.data||[],x(t);var o=this._processFlatCoordsArray(t.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(t.data=new Float32Array(o.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(x(t),t.data){var o=this._processFlatCoordsArray(t.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(t.data=new Float32Array(o.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,y.yB)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,y.yB)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],n=0;n<a;n++)t[n]=t[n]||[],t[n][0]=this._flatCoords[o+2*n],t[n][1]=this._flatCoords[o+2*n+1];return a}for(var i=this._getCoordsFromItemModel(e),n=0;n<i.length;n++)t[n]=t[n]||[],t[n][0]=i[n][0],t[n][1]=i[n][1];return i.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,y.Et)(e[0])){for(var o=e.length,a=new v(o),n=new m(o),i=0,r=0,l=0,s=0;s<o;){l++;var u=e[s++];a[r++]=i+t,a[r++]=u;for(var d=0;d<u;d++){var h=e[s++],c=e[s++];n[i++]=h,n[i++]=c}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,r),flatCoords:n,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var o=new g.A(["value"],this);return o.hasItemOption=!1,o.initData(e.data,[],function(e,t,a,n){if(e instanceof Array)return NaN;o.hasItemOption=!0;var i=e.value;if(null!=i)return i instanceof Array?i[n]:i}),o},t.prototype.formatTooltip=function(e,t,o){var a=this.getData().getItemModel(e),n=a.get("name");if(n)return n;var i=a.get("fromName"),r=a.get("toName"),l=[];return null!=i&&l.push(i),null!=r&&l.push(r),(0,f.Qx)("nameValue",{name:l.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(p.A);function b(e){return e instanceof Array||(e=[e,e]),e}var w={seriesType:"lines",reset:function(e){var t=b(e.get("symbol")),o=b(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",t&&t[0]),a.setVisual("toSymbol",t&&t[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),{dataEach:a.hasItemOption?function(e,t){var o=e.getItemModel(t),a=b(o.getShallow("symbol",!0)),n=b(o.getShallow("symbolSize",!0));a[0]&&e.setItemVisual(t,"fromSymbol",a[0]),a[1]&&e.setItemVisual(t,"toSymbol",a[1]),n[0]&&e.setItemVisual(t,"fromSymbolSize",n[0]),n[1]&&e.setItemVisual(t,"toSymbolSize",n[1])}:null}}};function S(e){e.registerChartView(c),e.registerSeriesModel(_),e.registerLayout(d),e.registerVisual(w)}},91336:function(e,t,o){o.d(t,{a:function(){return I}});var a=o(28415),n=o(2492),i=o(8215),r=o(8107),l=o(48282),s=o(77616),u=o(73217),d=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,n.C6)(t,e),t.prototype.render=function(e,t,o,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var n=this.group;if(n.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id){var i=this._mapDraw;i&&n.add(i.group)}else if(e.needsDrawMap){var i=this._mapDraw||new r.A(o);n.add(i.group),i.draw(e,t,o,this,a),this._mapDraw=i}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,o)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,o){var a=e.originalData,n=this.group;a.each(a.mapDimension("value"),function(t,o){if(!isNaN(t)){var r=a.getItemLayout(o);if(r&&r.point){var l=r.point,d=r.offset,h=new i.A({style:{fill:e.getData().getVisual("style").fill},shape:{cx:l[0]+9*d,cy:l[1],r:3},silent:!0,z2:8+(d?0:u.CA+1)});if(!d){var c=e.mainSeries.getData(),p=a.getName(o),g=c.indexOfName(p),y=a.getItemModel(o),f=y.getModel("label"),v=c.getItemGraphicEl(g);(0,s.qM)(h,(0,s.lx)(y),{labelFetcher:{getFormattedLabel:function(t,o){return e.getFormattedLabel(g,o)}},defaultText:p}),h.disableLabelAnimation=!0,f.get("position")||h.setTextConfig({position:"bottom"}),v.onHoverStateChange=function(e){(0,u.Pk)(h,e)}}n.add(h)}}})},t.type="map",t}(l.A),h=o(39238),c=o(34443),p=o(99659),g=o(36745),y=o(25743),f=o(35241),v=o(30503),m=o(40345),x=o(59849),_=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.needsDrawMap=!1,o.seriesGroup=[],o.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),o=this.coordinateSystem,a=o.getRegion(t);return a&&o.dataToPoint(a.getCenter())}},o}return(0,n.C6)(t,e),t.prototype.getInitialData=function(e){for(var t=(0,c.A)(this,{coordDimensions:["value"],encodeDefaulter:h.cF(y.ln,this)}),o=h.nt(),a=[],n=0,i=t.count();n<i;n++){var r=t.getName(n);o.set(r,n)}var l=g.A.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return h.__(l.regions,function(e){var n,i=e.name,r=o.get(i),l=e.properties&&e.properties.echartsStyle;null==r?(n={name:i},a.push(n)):n=t.getRawDataItem(r),l&&h.h1(n,l)}),t.appendData(a),t},t.prototype.getHostGeoModel=function(){if((0,m.kP)(this).kind!==m.PS.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,o){for(var a=this.getData(),n=this.getRawValue(e),i=a.getName(e),r=this.seriesGroup,l=[],s=0;s<r.length;s++){var u=r[s].originalData.indexOfName(i),d=a.mapDimension("value");isNaN(r[s].originalData.get(d,u))||l.push(r[s].name)}return(0,f.Qx)("section",{header:l.join(", "),noHeader:!l.length,blocks:[(0,f.Qx)("nameValue",{name:i,value:n})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",o=(0,v.v5)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return o.setStyle(e.itemStyle),o.style.stroke="none",t.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill=x.A.color.neutral00,o.style.lineWidth=2),o},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:x.A.color.tertiary},itemStyle:{borderWidth:.5,borderColor:x.A.color.border,areaColor:x.A.color.background},emphasis:{label:{show:!0,color:x.A.color.primary},itemStyle:{areaColor:x.A.color.highlight}},select:{label:{show:!0,color:x.A.color.primary},itemStyle:{color:x.A.color.highlight}},nameProperty:"name"},t}(p.A);function b(e){var t={};e.eachSeriesByType("map",function(e){var o=e.getHostGeoModel(),a=o?"o"+o.id:"i"+e.getMapType();(t[a]=t[a]||[]).push(e)}),h.__(t,function(e,t){for(var o,a,n,i=(o=h.Tj(e,function(e){return e.getData()}),a=e[0].get("mapValueCalculation"),n={},h.__(o,function(e){e.each(e.mapDimension("value"),function(t,o){var a="ec-"+e.getName(o);n[a]=n[a]||[],isNaN(t)||n[a].push(t)})}),o[0].map(o[0].mapDimension("value"),function(e,t){for(var i,r="ec-"+o[0].getName(t),l=0,s=1/0,u=-1/0,d=n[r].length,h=0;h<d;h++)s=Math.min(s,n[r][h]),u=Math.max(u,n[r][h]),l+=n[r][h];return i="min"===a?s:"max"===a?u:"average"===a?l/d:l,0===d?NaN:i})),r=0;r<e.length;r++)e[r].originalData=e[r].getData();for(var r=0;r<e.length;r++)e[r].seriesGroup=e,e[r].needsDrawMap=0===r&&!e[r].getHostGeoModel(),e[r].setData(i.cloneShallow()),e[r].mainSeries=e[0]})}function w(e){var t={};e.eachSeriesByType("map",function(o){var a=o.getMapType();if(!o.getHostGeoModel()&&!t[a]){var n={};h.__(o.seriesGroup,function(t){var o=t.coordinateSystem,a=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&a.each(a.mapDimension("value"),function(e,t){var i=a.getName(t),r=o.getRegion(i);if(!(!r||isNaN(e))){var l=n[i]||0,s=o.dataToPoint(r.getCenter());n[i]=l+1,a.setItemLayout(t,{point:s,offset:l})}})});var i=o.getData();i.each(function(e){var t=i.getName(e),o=i.getItemLayout(e)||{};o.showLabel=!n[t],i.setItemLayout(e,o)}),t[a]=!0}})}var S=o(19396),A=o(98474);function I(e){(0,a.Y)(A.a),e.registerChartView(d),e.registerSeriesModel(_),e.registerLayout(w),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,b),(0,S.I)("map",e.registerAction)}},10907:function(e,t,o){o.d(t,{a:function(){return I}});var a=o(28415),n=o(2492),i=o(1170),r=o(13430),l=o(44331),s=o(8775),u=o(73217),d=o(48282),h=o(99990),c=o(39238),p=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._dataGroup=new i.A,o._initialized=!1,o}return(0,n.C6)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,o,a){this._progressiveEls=null;var n=this._dataGroup,i=e.getData(),s=this._data,u=e.coordinateSystem,d=u.dimensions,h=f(e);if(i.diff(s).add(function(e){v(y(i,n,e,d,u),i,e,h)}).update(function(t,o){var a=s.getItemGraphicEl(o),n=g(i,t,d,u);i.setItemGraphicEl(t,a),r.oi(a,{shape:{points:n}},e,t),(0,r.ap)(a),v(a,i,t,h)}).remove(function(e){var t=s.getItemGraphicEl(e);n.remove(t)}).execute(),!this._initialized){this._initialized=!0;var c,p,m,x,_,b,w,S=(c=u,p=e,m=function(){setTimeout(function(){n.removeClipPath()})},x=c.model,_=c.getRect(),b=new l.A({shape:{x:_.x,y:_.y,width:_.width,height:_.height}}),w="horizontal"===x.get("layout")?"width":"height",b.setShape(w,0),r.LW(b,{shape:{width:_.width,height:_.height}},p,m),b);n.setClipPath(S)}this._data=i},t.prototype.incrementalPrepareRender=function(e,t,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,o){for(var a=t.getData(),n=t.coordinateSystem,i=n.dimensions,r=f(t),l=this._progressiveEls=[],s=e.start;s<e.end;s++){var u=y(a,this._dataGroup,s,i,n);u.incremental=!0,v(u,a,s,r),l.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(d.A);function g(e,t,o,a){for(var n=[],i=0;i<o.length;i++){var r,l=o[i],s=e.get(e.mapDimension(l),t);r=s,("category"===a.getAxis(l).type?null==r:null==r||isNaN(r))||n.push(a.dataToPoint(s,l))}return n}function y(e,t,o,a,n){var i=g(e,o,a,n),r=new s.A({shape:{points:i},z2:10});return t.add(r),e.setItemGraphicEl(o,r),r}function f(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),t=(0,h.Sm)(t),(0,c.Yp)(t)&&(t=0),{smooth:t}}function v(e,t,o,a){e.useStyle(t.getItemVisual(o,"style")),e.style.fill=null,e.setShape("smooth",a.smooth);var n=t.getItemModel(o),i=n.getModel("emphasis");(0,u.Mx)(e,n,"lineStyle"),(0,u.Lm)(e,i.get("focus"),i.get("blurScope"),i.get("disabled"))}var m=o(99659),x=o(95093),_=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.visualStyleAccessPath="lineStyle",o.visualDrawType="stroke",o}return(0,n.C6)(t,e),t.prototype.getInitialData=function(e,t){return(0,x.A)(null,this,{useEncodeDefaulter:(0,c.oI)(b,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,o=this.getData(),a=[];return t.eachActiveState(o,function(t,n){e===t&&a.push(o.getRawIndex(n))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(m.A);function b(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var o={};return(0,c.__)(t.dimensions,function(e){var t=+e.replace("dim","");o[e]=t}),o}}var w=["lineStyle","opacity"],S={seriesType:"parallel",reset:function(e,t){var o=e.coordinateSystem,a={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){o.eachActiveState(t,function(e,o){var n=a[e];if("normal"===e&&t.hasItemOption){var i=t.getItemModel(o).get(w,!0);null!=i&&(n=i)}t.ensureUniqueItemVisual(o,"style").opacity=n},e.start,e.end)}}}},A=o(80679);function I(e){(0,a.Y)(A.a),e.registerChartView(p),e.registerSeriesModel(_),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,S)}},45385:function(e,t,o){o.d(t,{a:function(){return H}});var a=o(19396),n=o(99990),i=o(37673),r=o(1018),l=o(65245),s=2*Math.PI,u=Math.PI/180;function d(e,t,o){t.eachSeriesByType(e,function(e){var t=e.getData(),a=t.mapDimension("value"),r=(0,l.zH)(e,o),d=r.cx,c=r.cy,p=r.r,g=r.r0,y=r.viewRect,f=-e.get("startAngle")*u,v=e.get("endAngle"),m=e.get("padAngle")*u;v="auto"===v?f-s:-v*u;var x=e.get("minAngle")*u+m,_=0;t.each(a,function(e){!isNaN(e)&&_++});var b=t.getSum(a),w=Math.PI/(b||_)*2,S=e.get("clockwise"),A=e.get("roseType"),I=e.get("stillShowZeroSum"),L=t.getDataExtent(a);L[0]=0;var M=S?1:-1,D=[f,v],N=M*m/2;(0,i.q)(D,!S),f=D[0],v=D[1];var C=h(e);C.startAngle=f,C.endAngle=v,C.clockwise=S,C.cx=d,C.cy=c,C.r=p,C.r0=g;var T=Math.abs(v-f),P=T,V=0,R=f;if(t.setLayout({viewRect:y,r:p}),t.each(a,function(e,o){if(isNaN(e))return void t.setItemLayout(o,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:d,cy:c,r0:g,r:A?NaN:p});(a="area"!==A?0===b&&I?w:e*w:T/_)<x?(a=x,P-=x):V+=e;var a,i=R+M*a,r=0,l=0;m>a?l=r=R+M*a/2:(r=R+N,l=i-N),t.setItemLayout(o,{angle:a,startAngle:r,endAngle:l,clockwise:S,cx:d,cy:c,r0:g,r:A?(0,n.Cb)(e,L,[g,p]):p}),R=i}),P<s&&_)if(P<=.001){var E=T/_;t.each(a,function(e,o){if(!isNaN(e)){var a=t.getItemLayout(o);a.angle=E;var n=0,i=0;E<m?i=n=f+M*(o+.5)*E:(n=f+M*o*E+N,i=f+M*(o+1)*E-N),a.startAngle=n,a.endAngle=i}})}else w=P/V,R=f,t.each(a,function(e,o){if(!isNaN(e)){var a=t.getItemLayout(o),n=a.angle===x?x:e*w,i=0,r=0;n<m?r=i=R+M*n/2:(i=R+N,r=R+M*n-N),a.startAngle=i,a.endAngle=r,R+=M*n}})})}var h=(0,r.$r)(),c=o(55435),p=o(39238),g=o(2492),y=o(79230),f=o(13430),v=o(8775),m=o(12470),x=o(73217),_=o(48282),b=o(35982),w=o(51888),S=o(95741),A=o(2695),I=Math.PI/180;function L(e,t,o,a,n,i,r,l,s,u){if(!(e.length<2)){for(var d=e.length,h=0;h<d;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var c=e[h].label.x-u;e[h].linePoints[1][0]+=c,e[h].label.x=u}(0,A.Zv)(e,1,s,s+r)&&function(e){for(var i={list:[],maxY:0},r={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],u=s.label.y>o?r:i,d=Math.abs(s.label.y-o);if(d>=u.maxY){var h=s.label.x-t-s.len2*n,c=a+s.len;u.rB=Math.abs(h)<c?Math.sqrt(d*d/(1-h*h/c/c)):c,u.maxY=d}u.list.push(s)}p(i),p(r)}(e)}function p(e){for(var i=e.rB,r=i*i,l=0;l<e.list.length;l++){var s=e.list[l],u=Math.abs(s.label.y-o),d=a+s.len,h=t+(Math.sqrt(Math.abs(d*d*(1-u*u/r)))+s.len2)*n,c=h-s.label.x,p=s.targetTextWidth-c*n;M(s,p,!0),s.label.x=h}}}function M(e,t,o){if(null==e.labelStyleWidth){var a=e.label,n=a.style,i=e.rect,r=n.backgroundColor,l=n.padding,s=l?l[1]+l[3]:0,u=n.overflow,d=i.width+(r?0:s);if(t<d||o){if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-s);var h=a.getBoundingRect();a.setStyle("width",Math.ceil(h.width)),a.setStyle("backgroundColor",r)}else{var c=t-s,p=t<d?c:o?c>e.unconstrainedWidth?null:c:null;a.setStyle("width",p)}D(i,a)}}}function D(e,t){C.rect=e,(0,A.Wy)(C,t,N)}var N={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},C={};function T(e){return"center"===e.position}var P=o(77616),V=o(14150),R=function(e){function t(t,o,a){var n=e.call(this)||this;n.z2=2;var i=new y.Ay;return n.setTextContent(i),n.updateData(t,o,a,!0),n}return(0,g.C6)(t,e),t.prototype.updateData=function(e,t,o,a){var n=e.hostModel,i=e.getItemModel(t),r=i.getModel("emphasis"),l=e.getItemLayout(t),s=(0,p.X$)((0,V.i)(i.getModel("itemStyle"),l,!0),l);if(isNaN(s.startAngle))return void this.setShape(s);if(a){this.setShape(s);var u=n.getShallow("animationType");n.ecModel.ssr?(f.LW(this,{scaleX:0,scaleY:0},n,{dataIndex:t,isFrom:!0}),this.originX=s.cx,this.originY=s.cy):"scale"===u?(this.shape.r=l.r0,f.LW(this,{shape:{r:l.r}},n,t)):null!=o?(this.setShape({startAngle:o,endAngle:o}),f.LW(this,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},n,t)):(this.shape.endAngle=l.startAngle,f.oi(this,{shape:{endAngle:l.endAngle}},n,t))}else(0,f.ap)(this),f.oi(this,{shape:s},n,t);this.useStyle(e.getItemVisual(t,"style")),(0,x.Mx)(this,i);var d=(l.startAngle+l.endAngle)/2,h=n.get("selectedOffset"),c=Math.cos(d)*h,g=Math.sin(d)*h,y=i.getShallow("cursor");y&&this.attr("cursor",y),this._updateLabel(n,e,t),this.ensureState("emphasis").shape=(0,p.X$)({r:l.r+(r.get("scale")&&r.get("scaleSize")||0)},(0,V.i)(r.getModel("itemStyle"),l)),(0,p.X$)(this.ensureState("select"),{x:c,y:g,shape:(0,V.i)(i.getModel(["select","itemStyle"]),l)}),(0,p.X$)(this.ensureState("blur"),{shape:(0,V.i)(i.getModel(["blur","itemStyle"]),l)});var v=this.getTextGuideLine(),m=this.getTextContent();v&&(0,p.X$)(v.ensureState("select"),{x:c,y:g}),(0,p.X$)(m.ensureState("select"),{x:c,y:g}),(0,x.Lm)(this,r.get("focus"),r.get("blurScope"),r.get("disabled"))},t.prototype._updateLabel=function(e,t,o){var a=t.getItemModel(o),n=a.getModel("labelLine"),i=t.getItemVisual(o,"style"),r=i&&i.fill,l=i&&i.opacity;(0,P.qM)(this,(0,P.lx)(a),{labelFetcher:t.hostModel,labelDataIndex:o,inheritColor:r,defaultOpacity:l,defaultText:e.getFormattedLabel(o,"normal")||t.getName(o)});var s=this.getTextContent();this.setTextConfig({position:null,rotation:null}),s.attr({z2:10});var u=a.get(["label","position"]);if("outside"!==u&&"outer"!==u)this.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new v.A,this.setTextGuideLine(d)),(0,S.eR)(this,(0,S.rv)(a),{stroke:r,opacity:(0,p.WV)(n.get(["lineStyle","opacity"]),l,1)})}},t}(m.A),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,g.C6)(t,e),t.prototype.render=function(e,t,o,a){var i,r=e.getData(),l=this._data,s=this.group;if(!l&&r.count()>0){for(var u=r.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<r.count();++d)u=r.getItemLayout(d);u&&(i=u.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var c=h(e),g=new m.A({shape:(0,p.o8)(c)});g.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=g,s.add(g)}r.diff(l).add(function(e){var t=new R(r,e,i);r.setItemGraphicEl(e,t),s.add(t)}).update(function(e,t){var o=l.getItemGraphicEl(t);o.updateData(r,e,i),o.off("click"),s.add(o),r.setItemGraphicEl(e,o)}).remove(function(t){var o=l.getItemGraphicEl(t);f.t5(o,e,t)}).execute(),function(e){var t,o,a=e.getData(),i=[],r=!1,l=(e.get("minShowLabelAngle")||0)*I,s=a.getLayout("viewRect"),u=a.getLayout("r"),d=s.width,h=s.x,c=s.y,g=s.height;function y(e){e.ignore=!0}a.each(function(e){var s,c,f,v,m=a.getItemGraphicEl(e),x=m.shape,_=m.getTextContent(),S=m.getTextGuideLine(),A=a.getItemModel(e),I=A.getModel("label"),L=I.get("position")||A.get(["emphasis","label","position"]),M=I.get("distanceToLabelLine"),N=I.get("alignTo"),C=(0,n.lo)(I.get("edgeDistance"),d),T=I.get("bleedMargin");null==T&&(T=Math.min(d,g)>200?10:2);var P=A.getModel("labelLine"),V=P.get("length");V=(0,n.lo)(V,d);var R=P.get("length2");if(R=(0,n.lo)(R,d),Math.abs(x.endAngle-x.startAngle)<l){(0,p.__)(_.states,y),_.ignore=!0,S&&((0,p.__)(S.states,y),S.ignore=!0);return}if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(_)){var E=(x.startAngle+x.endAngle)/2,k=Math.cos(E),O=Math.sin(E);t=x.cx,o=x.cy;var z="inside"===L||"inner"===L;if("center"===L)s=x.cx,c=x.cy,v="center";else{var G=(z?(x.r+x.r0)/2*k:x.r*k)+t,B=(z?(x.r+x.r0)/2*O:x.r*O)+o;if(s=G+3*k,c=B+3*O,!z){var W=G+k*(V+u-x.r),X=B+O*(V+u-x.r),F=W+(k<0?-1:1)*R;s="edge"===N?k<0?h+C:h+d-C:F+(k<0?-M:M),c=X,f=[[G,B],[W,X],[F,X]]}v=z?"center":"edge"===N?k>0?"right":"left":k>0?"left":"right"}var H=Math.PI,Y=0,U=I.get("rotate");if((0,p.Et)(U))Y=H/180*U;else if("center"===L)Y=0;else if("radial"===U||!0===U)Y=k<0?-E+H:-E;else if("tangential"===U&&"outside"!==L&&"outer"!==L){var q=Math.atan2(k,O);q<0&&(q=2*H+q),O>0&&(q=H+q),Y=q-H}if(r=!!Y,_.x=s,_.y=c,_.rotation=Y,_.setStyle({verticalAlign:"middle"}),z){_.setStyle({align:v});var Z=_.states.select;Z&&(Z.x+=_.x,Z.y+=_.y)}else{var j=new w.A(0,0,0,0);D(j,_),i.push({label:_,labelLine:S,position:L,len:V,len2:R,minTurnAngle:P.get("minTurnAngle"),maxSurfaceAngle:P.get("maxSurfaceAngle"),surfaceNormal:new b.A(k,O),linePoints:f,textAlign:v,labelDistance:M,labelAlignTo:N,edgeDistance:C,bleedMargin:T,rect:j,unconstrainedWidth:j.width,labelStyleWidth:_.style.width})}m.setTextConfig({inside:z})}}),!r&&e.get("avoidLabelOverlap")&&function(e,t,o,a,n,i,r,l){for(var s=[],u=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<e.length;c++){var p=e[c].label;T(e[c])||(p.x<t?(d=Math.min(d,p.x),s.push(e[c])):(h=Math.max(h,p.x),u.push(e[c])))}for(var c=0;c<e.length;c++){var g=e[c];if(!T(g)&&g.linePoints){if(null!=g.labelStyleWidth)continue;var p=g.label,y=g.linePoints,f=void 0;f="edge"===g.labelAlignTo?p.x<t?y[2][0]-g.labelDistance-r-g.edgeDistance:r+n-g.edgeDistance-y[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?p.x<t?d-r-g.bleedMargin:r+n-h-g.bleedMargin:p.x<t?p.x-r-g.bleedMargin:r+n-p.x-g.bleedMargin,g.targetTextWidth=f,M(g,f,!1)}}L(u,t,o,a,1,n,i,r,l,h),L(s,t,o,a,-1,n,i,r,l,d);for(var c=0;c<e.length;c++){var g=e[c];if(!T(g)&&g.linePoints){var p=g.label,y=g.linePoints,v="edge"===g.labelAlignTo,m=p.style.padding,x=m?m[1]+m[3]:0,_=p.style.backgroundColor?0:x,b=g.rect.width+_,w=y[1][0]-y[2][0];v?p.x<t?y[2][0]=r+g.edgeDistance+b+g.labelDistance:y[2][0]=r+n-g.edgeDistance-b-g.labelDistance:(p.x<t?y[2][0]=p.x+g.labelDistance:y[2][0]=p.x-g.labelDistance,y[1][0]=y[2][0]+w),y[1][1]=y[2][1]=p.y}}}(i,t,o,u,d,g,h,c);for(var f=0;f<i.length;f++){var v=i[f],m=v.label,x=v.labelLine,_=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),_&&((0,p.__)(m.states,y),m.ignore=!0);var A=m.states.select;A&&(A.x+=m.x,A.y+=m.y)}if(x){var N=v.linePoints;_||!N?((0,p.__)(x.states,y),x.ignore=!0):((0,S.YI)(N,v.minTurnAngle),(0,S.QK)(N,v.surfaceNormal,v.maxSurfaceAngle),x.setShape({points:N}),m.__hostTarget.textGuideLineConfig={anchor:new b.A(N[0][0],N[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var o=t.getData().getItemLayout(0);if(o){var a=e[0]-o.cx,n=e[1]-o.cy,i=Math.sqrt(a*a+n*n);return i<=o.r&&i>=o.r0}},t.type="pie",t}(_.A),k=o(34443),O=o(25743),z=o(7823),G=o(99659),B=o(40345),W=r.$r(),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,g.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new z.A(p.oI(this.getData,this),p.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return(0,k.A)(this,{coordDimensions:["value"],encodeDefaulter:p.cF(O.ln,this)})},t.prototype.getDataParams=function(t){var o=this.getData(),a=W(o),i=a.seats;if(!i){var r=[];o.each(o.mapDimension("value"),function(e){r.push(e)}),i=a.seats=(0,n.kM)(r,o.hostModel.get("percentPrecision"))}var l=e.prototype.getDataParams.call(this,t);return l.percent=i[t]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){r.M5(e,"labelLine",["show"]);var t=e.labelLine,o=e.emphasis.labelLine;t.show=t.show&&e.label.show,o.show=o.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(G.A);(0,B.kf)({fullType:X.type,getCoord2:function(e){return e.getShallow("center")}});var F=o(21500);function H(e){e.registerChartView(E),e.registerSeriesModel(X),(0,a.I)("pie",e.registerAction),e.registerLayout((0,p.cF)(d,"pie")),e.registerProcessor((0,c.A)("pie")),e.registerProcessor((0,F.A)("pie"))}},43782:function(e,t,o){o.d(t,{a:function(){return M}});var a=o(28415),n=o(39238);function i(e){e.eachSeriesByType("radar",function(e){var t=e.getData(),o=[],a=e.coordinateSystem;if(a){var i=a.getIndicatorAxes();n.__(i,function(e,n){t.each(t.mapDimension(i[n].dim),function(e,t){o[t]=o[t]||[];var i,l=a.dataToPoint(e,n);o[t][n]=r(l)?l:[(i=a).cx,i.cy]})}),t.each(function(e){var i,l=n.I6(o[e],function(e){return r(e)})||[(i=a).cx,i.cy];o[e].push(l.slice()),t.setItemLayout(e,o[e])})}})}function r(e){return!isNaN(e[0])&&!isNaN(e[1])}var l=o(55435);function s(e){var t=e.polar;if(t){n.cy(t)||(t=[t]);var o=[];n.__(t,function(t,a){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],n.cy(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):o.push(t)}),e.polar=o}n.__(e.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}var u=o(2492),d=o(8655),h=o(40365),c=o(8775),p=o(13430),g=o(1170),y=o(73217),f=o(30503),v=o(48282),m=o(77616),x=o(65632),_=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,u.C6)(t,e),t.prototype.render=function(e,t,o){var a=e.coordinateSystem,i=this.group,r=e.getData(),l=this._data;function s(t,o,a,n,i,r){a.removeAll();for(var l=0;l<o.length-1;l++){var s=function(e,t){var o=e.getItemVisual(t,"symbol")||"circle";if("none"!==o){var a=f.xU(e.getItemVisual(t,"symbolSize")),n=f.v5(o,-1,-1,2,2),i=e.getItemVisual(t,"symbolRotate")||0;return n.attr({style:{strokeNoScale:!0},z2:100,scaleX:a[0]/2,scaleY:a[1]/2,rotation:i*Math.PI/180||0}),n}}(n,i);s&&(s.__dimIdx=l,t[l]?(s.setPosition(t[l]),d[r?"initProps":"updateProps"](s,{x:o[l][0],y:o[l][1]},e,i)):s.setPosition(o[l]),a.add(s))}}function u(e){return n.Tj(e,function(e){return[a.cx,a.cy]})}r.diff(l).add(function(t){var o=r.getItemLayout(t);if(o){var a=new h.A,n=new c.A,i={shape:{points:o}};a.shape.points=u(o),n.shape.points=u(o),p.LW(a,i,e,t),p.LW(n,i,e,t);var l=new g.A,d=new g.A;l.add(n),l.add(a),l.add(d),s(n.shape.points,o,d,r,t,!0),r.setItemGraphicEl(t,l)}}).update(function(t,o){var a=l.getItemGraphicEl(o),n=a.childAt(0),i=a.childAt(1),u=a.childAt(2),d={shape:{points:r.getItemLayout(t)}};d.shape.points&&(s(n.shape.points,d.shape.points,u,r,t,!1),(0,p.ap)(i),(0,p.ap)(n),p.oi(n,d,e),p.oi(i,d,e),r.setItemGraphicEl(t,a))}).remove(function(e){i.remove(l.getItemGraphicEl(e))}).execute(),r.eachItemGraphicEl(function(e,t){var o=r.getItemModel(t),a=e.childAt(0),l=e.childAt(1),s=e.childAt(2),u=r.getItemVisual(t,"style"),d=u.fill;i.add(e),a.useStyle(n.NT(o.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),(0,y.Mx)(a,o,"lineStyle"),(0,y.Mx)(l,o,"areaStyle");var h=o.getModel("areaStyle"),c=h.isEmpty()&&h.parentModel.isEmpty();l.ignore=c,n.__(["emphasis","select","blur"],function(e){var t=o.getModel([e,"areaStyle"]),i=t.isEmpty()&&t.parentModel.isEmpty();l.ensureState(e).ignore=i&&c;var r=o.getModel([e,"lineStyle"]).getLineStyle();a.ensureState(e).style=r;var u=t.getAreaStyle();l.ensureState(e).style=u;var d=o.getModel([e,"itemStyle"]).getItemStyle();s.eachChild(function(t){t.ensureState(e).style=n.o8(d)})}),l.useStyle(n.NT(o.getModel("areaStyle").getAreaStyle(),{fill:d,opacity:.7,decal:u.decal}));var p=o.getModel("emphasis");s.eachChild(function(e){if(e instanceof x.Ay){var a=e.style;e.useStyle(n.X$({image:a.image,x:a.x,y:a.y,width:a.width,height:a.height},u))}else e.useStyle(u),e.setColor(d),e.style.strokeNoScale=!0;var i=r.getStore().get(r.getDimensionIndex(e.__dimIdx),t);(null==i||isNaN(i))&&(i=""),(0,m.qM)(e,(0,m.lx)(o),{labelFetcher:r.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,inheritColor:d,defaultOpacity:u.opacity})}),(0,y.Lm)(e,p.get("focus"),p.get("blurScope"),p.get("disabled"))}),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(v.A),b=o(99659),w=o(34443),S=o(7823),A=o(35241),I=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.hasSymbolVisual=!0,o}return(0,u.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new S.A(n.oI(this.getData,this),n.oI(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return(0,w.A)(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,o){var a=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(e),l=""===r?this.name:r,s=(0,A.aw)(this,e);return(0,A.Qx)("section",{header:l,sortBlocks:!0,blocks:n.Tj(i,function(t){var o=a.get(a.mapDimension(t.dim),e);return(0,A.Qx)("nameValue",{markerType:"subItem",markerColor:s,name:t.name,value:o,sortParam:o})})})},t.prototype.getTooltipPosition=function(e){if(null!=e){for(var t=this.getData(),o=this.coordinateSystem,a=t.getValues(n.Tj(o.dimensions,function(e){return t.mapDimension(e)}),e),i=0,r=a.length;i<r;i++)if(!isNaN(a[i])){var l=o.getIndicatorAxes();return o.coordToPoint(l[i].dataToCoord(a[i]),i)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(b.A),L=o(63793);function M(e){(0,a.Y)(L.a),e.registerChartView(_),e.registerSeriesModel(I),e.registerLayout(i),e.registerProcessor((0,l.A)("radar")),e.registerPreprocessor(s)}},50777:function(e,t,o){o.d(t,{a:function(){return W}});var a=o(2492),n=o(51315),i=o(1170),r=o(44331),l=o(33112),s=o(13430),u=o(73217),d=o(48282),h=o(77616),c=o(38822),p=o(39238),g=o(14218),y=o(15390),f=o(15115),v=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},m=function(e){function t(t){return e.call(this,t)||this}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new v},t.prototype.buildPath=function(e,t){var o=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+o,t.y2),e.bezierCurveTo(t.cpx2+o,t.cpy2,t.cpx1+o,t.cpy1,t.x1+o,t.y1)):(e.lineTo(t.x2,t.y2+o),e.bezierCurveTo(t.cpx2,t.cpy2+o,t.cpx1,t.cpy1+o,t.x1,t.y1+o)),e.closePath()},t.prototype.highlight=function(){(0,u.HY)(this)},t.prototype.downplay=function(){(0,u.SD)(this)},t}(n.Ay),x=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._mainGroup=new i.A,o._focusAdjacencyDisabled=!1,o}return(0,a.C6)(t,e),t.prototype.init=function(e,t){this._controller=new g.A(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,o){var a,n,i,l,d=this,g=e.getGraph(),f=this._mainGroup,v=e.layoutInfo,x=v.width,b=v.height,w=e.getData(),S=e.getData("edge"),A=e.get("orient");this._model=e,f.removeAll(),f.x=v.x,f.y=v.y,this._updateViewCoordSys(e,o),y.c$(e,o,f,this._controller,this._controllerHost,null),g.eachEdge(function(t){var o,a,n,i,r,l,s,d,g=new m,y=(0,c.z)(g);y.dataIndex=t.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var v=t.getModel(),w=v.getModel("lineStyle"),I=w.get("curveness"),L=t.node1.getLayout(),M=t.node1.getModel(),D=M.get("localX"),N=M.get("localY"),C=t.node2.getLayout(),T=t.node2.getModel(),P=T.get("localX"),V=T.get("localY"),R=t.getLayout();g.shape.extent=Math.max(1,R.dy),g.shape.orient=A,"vertical"===A?(o=(null!=D?D*x:L.x)+R.sy,a=(null!=N?N*b:L.y)+L.dy,n=(null!=P?P*x:C.x)+R.ty,i=null!=V?V*b:C.y,r=o,l=a*(1-I)+i*I,s=n,d=a*I+i*(1-I)):(o=(null!=D?D*x:L.x)+L.dx,a=(null!=N?N*b:L.y)+R.sy,n=null!=P?P*x:C.x,i=(null!=V?V*b:C.y)+R.ty,r=o*(1-I)+n*I,l=a,s=o*I+n*(1-I),d=i),g.setShape({x1:o,y1:a,x2:n,y2:i,cpx1:r,cpy1:l,cpx2:s,cpy2:d}),g.useStyle(w.getItemStyle()),_(g.style,A,t);var E=""+v.get("value"),k=(0,h.lx)(v,"edgeLabel");(0,h.qM)(g,k,{labelFetcher:{getFormattedLabel:function(t,o,a,n,i,r){return e.getFormattedLabel(t,o,"edge",n,(0,p.WV)(i,k.normal&&k.normal.get("formatter"),E),r)}},labelDataIndex:t.dataIndex,defaultText:E}),g.setTextConfig({position:"inside"});var O=v.getModel("emphasis");(0,u.Mx)(g,v,"lineStyle",function(e){var o=e.getItemStyle();return _(o,A,t),o}),f.add(g),S.setItemGraphicEl(t.dataIndex,g);var z=O.get("focus");(0,u.Lm)(g,"adjacency"===z?t.getAdjacentDataIndices():"trajectory"===z?t.getTrajectoryDataIndices():z,O.get("blurScope"),O.get("disabled"))}),g.eachNode(function(t){var o=t.getLayout(),a=t.getModel(),n=a.get("localX"),i=a.get("localY"),l=a.getModel("emphasis"),s=a.get(["itemStyle","borderRadius"])||0,d=new r.A({shape:{x:null!=n?n*x:o.x,y:null!=i?i*b:o.y,width:o.dx,height:o.dy,r:s},style:a.getModel("itemStyle").getItemStyle(),z2:10});(0,h.qM)(d,(0,h.lx)(a),{labelFetcher:{getFormattedLabel:function(t,o){return e.getFormattedLabel(t,o,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),d.disableLabelAnimation=!0,d.setStyle("fill",t.getVisual("color")),d.setStyle("decal",t.getVisual("style").decal),(0,u.Mx)(d,a),f.add(d),w.setItemGraphicEl(t.dataIndex,d),(0,c.z)(d).dataType="node";var p=l.get("focus");(0,u.Lm)(d,"adjacency"===p?t.getAdjacentDataIndices():"trajectory"===p?t.getTrajectoryDataIndices():p,l.get("blurScope"),l.get("disabled"))}),w.eachItemGraphicEl(function(t,a){w.getItemModel(a).get("draggable")&&(t.drift=function(t,n){d._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:w.getRawIndex(a),localX:this.shape.x/x,localY:this.shape.y/b})},t.ondragend=function(){d._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")}),!this._data&&e.isAnimationEnabled()&&f.setClipPath((a=f.getBoundingRect(),n=e,i=function(){f.removeClipPath()},l=new r.A({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}}),s.LW(l,{shape:{width:a.width+20}},n,i),l)),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,t){var o=e.layoutInfo,a=o.width,n=o.height,i=e.coordinateSystem=new f.A(null,{api:t,ecModel:e.ecModel});i.zoomLimit=e.get("scaleLimit"),i.setBoundingRect(0,0,a,n),i.setCenter(e.get("center")),i.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY})},t.type="sankey",t}(d.A);function _(e,t,o){switch(e.fill){case"source":e.fill=o.node1.getVisual("color"),e.decal=o.node1.getVisual("style").decal;break;case"target":e.fill=o.node2.getVisual("color"),e.decal=o.node2.getVisual("style").decal;break;case"gradient":var a=o.node1.getVisual("color"),n=o.node2.getVisual("color");(0,p.Kg)(a)&&(0,p.Kg)(n)&&(e.fill=new l.A(0,0,+("horizontal"===t),+("vertical"===t),[{color:a,offset:0},{color:n,offset:1}]))}}var b=o(99659),w=o(24951),S=o(17505),A=o(35241),I=o(59849),L=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){var o=e.edges||e.links||[],a=e.data||e.nodes||[],n=e.levels||[];this.levelModels=[];for(var i=this.levelModels,r=0;r<n.length;r++)null!=n[r].depth&&n[r].depth>=0&&(i[n[r].depth]=new S.A(n[r],this,t));return(0,w.A)(a,o,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e,t){var o=e.parentModel,a=o.getData().getItemLayout(t);if(a){var n=a.depth,i=o.levelModels[n];i&&(e.parentModel=i)}return e}),t.wrapMethod("getItemModel",function(e,t){var o=e.parentModel,a=o.getGraph().getEdgeByIndex(t).node1.getLayout();if(a){var n=a.depth,i=o.levelModels[n];i&&(e.parentModel=i)}return e})}).data},t.prototype.setNodePosition=function(e,t){var o=(this.option.data||this.option.nodes)[e];o.localX=t[0],o.localY=t[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,o){function a(e){return isNaN(e)||null==e}if("edge"===o){var n=this.getDataParams(e,o),i=n.data,r=n.value,l=i.source+" -- "+i.target;return(0,A.Qx)("nameValue",{name:l,value:r,noValue:a(r)})}var s=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,o).data.name;return(0,A.Qx)("nameValue",{name:null!=u?u+"":null,value:s,noValue:a(s)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,o){var a=e.prototype.getDataParams.call(this,t,o);return null==a.value&&"node"===o&&(a.value=this.getGraph().getNodeByIndex(t).getLayout().value),a},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:I.A.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:I.A.color.primary}},animationEasing:"linear",animationDuration:1e3},t}(b.A),M=o(1018),D=o(65245);function N(e,t){e.eachSeriesByType("sankey",function(e){var o,a,n,i,r,l,s,u,d,h,c,g=e.get("nodeWidth"),y=e.get("nodeGap"),f=(0,D.Lj)(e,t).refContainer,v=(0,D.dV)(e.getBoxLayoutParams(),f);e.layoutInfo=v;var m=v.width,x=v.height,_=e.getGraph(),b=_.nodes,w=_.edges;o=b,p.__(o,function(e){var t=Math.max(z(e.outEdges,O),z(e.inEdges,O),e.getValue()||0);e.setLayout({value:t},!0)});var S=0!==p.pb(b,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations");a=b,n=w,i=g,r=y,l=m,s=x,u=S,d=e.get("orient"),function(e,t,o,a,n,i,r){for(var l,s,u,d=[],h=[],c=[],g=[],y=0,f=0;f<t.length;f++)d[f]=1;for(var f=0;f<e.length;f++)h[f]=e[f].inEdges.length,0===h[f]&&c.push(e[f]);for(var v=-1;c.length;){for(var m=0;m<c.length;m++){var x=c[m],_=x.hostGraph.data.getRawDataItem(x.dataIndex),b=null!=_.depth&&_.depth>=0;b&&_.depth>v&&(v=_.depth),x.setLayout({depth:b?_.depth:y},!0),"vertical"===i?x.setLayout({dy:o},!0):x.setLayout({dx:o},!0);for(var w=0;w<x.outEdges.length;w++){var S=x.outEdges[w];d[t.indexOf(S)]=0;var A=S.node2,I=e.indexOf(A);0==--h[I]&&0>g.indexOf(A)&&g.push(A)}}++y,c=g,g=[]}for(var f=0;f<d.length;f++)if(1===d[f])throw Error("Sankey is a DAG, the original data has cycle!");var L=v>y-1?v:y-1;r&&"left"!==r&&function(e,t,o,a){if("right"===t){for(var n,i,r=[],l=e,s=0;l.length;){for(var u=0;u<l.length;u++){var d=l[u];d.setLayout({skNodeHeight:s},!0);for(var h=0;h<d.inEdges.length;h++){var c=d.inEdges[h];0>r.indexOf(c.node1)&&r.push(c.node1)}}l=r,r=[],++s}p.__(e,function(e){C(e)||e.setLayout({depth:Math.max(0,a-e.getLayout().skNodeHeight)},!0)})}else{"justify"===t&&(n=e,i=a,p.__(n,function(e){C(e)||e.outEdges.length||e.setLayout({depth:i},!0)}))}}(e,r,0,L),l=e,s="vertical"===i?(n-o)/L:(a-o)/L,u=i,p.__(l,function(e){var t=e.getLayout().depth*s;"vertical"===u?e.setLayout({y:t},!0):e.setLayout({x:t},!0)})}(a,n,i,l,s,d,e.get("nodeAlign")),function(e,t,o,a,n,i,r){var l,s,u,d,h,c,g,y,f,v,m,x=(l=e,s=[],u="vertical"===r?"y":"x",(d=(0,M.Sq)(l,function(e){return e.getLayout()[u]})).keys.sort(function(e,t){return e-t}),p.__(d.keys,function(e){s.push(d.buckets.get(e))}),s);h=x,c=t,g=o,y=a,f=n,v=r,m=1/0,p.__(h,function(e){var t=e.length,o=0;p.__(e,function(e){o+=e.getLayout().value});var a="vertical"===v?(y-(t-1)*f)/o:(g-(t-1)*f)/o;a<m&&(m=a)}),p.__(h,function(e){p.__(e,function(e,t){var o=e.getLayout().value*m;"vertical"===v?(e.setLayout({x:t},!0),e.setLayout({dx:o},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:o},!0))})}),p.__(c,function(e){var t=e.getValue()*m;e.setLayout({dy:t},!0)}),T(x,n,o,a,r);for(var _=1;i>0;i--)(function(e,t,o){p.__(e.slice().reverse(),function(e){p.__(e,function(e){if(e.outEdges.length){var a=z(e.outEdges,P,o)/z(e.outEdges,O);if(isNaN(a)){var n=e.outEdges.length;a=n?z(e.outEdges,V,o)/n:0}if("vertical"===o){var i=e.getLayout().x+(a-k(e,o))*t;e.setLayout({x:i},!0)}else{var r=e.getLayout().y+(a-k(e,o))*t;e.setLayout({y:r},!0)}}})})})(x,_*=.99,r),T(x,n,o,a,r),function(e,t,o){p.__(e,function(e){p.__(e,function(e){if(e.inEdges.length){var a=z(e.inEdges,R,o)/z(e.inEdges,O);if(isNaN(a)){var n=e.inEdges.length;a=n?z(e.inEdges,E,o)/n:0}if("vertical"===o){var i=e.getLayout().x+(a-k(e,o))*t;e.setLayout({x:i},!0)}else{var r=e.getLayout().y+(a-k(e,o))*t;e.setLayout({y:r},!0)}}})})}(x,_,r),T(x,n,o,a,r)}(a,n,s,l,r,u,d),h=a,c="vertical"===d?"x":"y",p.__(h,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[c]-t.node2.getLayout()[c]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[c]-t.node1.getLayout()[c]})}),p.__(h,function(e){var t=0,o=0;p.__(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),p.__(e.inEdges,function(e){e.setLayout({ty:o},!0),o+=e.getLayout().dy})})})}function C(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function T(e,t,o,a,n){var i="vertical"===n?"x":"y";p.__(e,function(e){e.sort(function(e,t){return e.getLayout()[i]-t.getLayout()[i]});for(var r,l,s,u=0,d=e.length,h="vertical"===n?"dx":"dy",c=0;c<d;c++)(s=u-(l=e[c]).getLayout()[i])>0&&(r=l.getLayout()[i]+s,"vertical"===n?l.setLayout({x:r},!0):l.setLayout({y:r},!0)),u=l.getLayout()[i]+l.getLayout()[h]+t;if((s=u-t-("vertical"===n?a:o))>0){r=l.getLayout()[i]-s,"vertical"===n?l.setLayout({x:r},!0):l.setLayout({y:r},!0),u=r;for(var c=d-2;c>=0;--c)(s=(l=e[c]).getLayout()[i]+l.getLayout()[h]+t-u)>0&&(r=l.getLayout()[i]-s,"vertical"===n?l.setLayout({x:r},!0):l.setLayout({y:r},!0)),u=l.getLayout()[i]}})}function P(e,t){return k(e.node2,t)*e.getValue()}function V(e,t){return k(e.node2,t)}function R(e,t){return k(e.node1,t)*e.getValue()}function E(e,t){return k(e.node1,t)}function k(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function O(e){return e.getValue()}function z(e,t,o){for(var a=0,n=e.length,i=-1;++i<n;){var r=+t(e[i],o);isNaN(r)||(a+=r)}return a}var G=o(54817);function B(e){e.eachSeriesByType("sankey",function(e){var t=e.getGraph(),o=t.nodes,a=t.edges;if(o.length){var n=1/0,i=-1/0;p.__(o,function(e){var t=e.getLayout().value;t<n&&(n=t),t>i&&(i=t)}),p.__(o,function(t){var o=new G.A({type:"color",mappingMethod:"linear",dataExtent:[n,i],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),a=t.getModel().get(["itemStyle","color"]);null!=a?(t.setVisual("color",a),t.setVisual("style",{fill:a})):(t.setVisual("color",o),t.setVisual("style",{fill:o}))})}a.length&&p.__(a,function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)})})}function W(e){e.registerChartView(x),e.registerSeriesModel(L),e.registerLayout(N),e.registerVisual(B),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),e.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,o){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){var o=t.coordinateSystem,a=(0,y.Ok)(o,e,t.get("scaleLimit"));t.setCenter(a.center),t.setZoom(a.zoom)})})}},33674:function(e,t,o){o.d(t,{a:function(){return f},Y:function(){return v}});var a=o(28415),n=o(2492),i=o(95093),r=o(99659),l=o(59849),s=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.hasSymbolVisual=!0,o}return(0,n.C6)(t,e),t.prototype.getInitialData=function(e,t){return(0,i.A)(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,o){return o.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:l.A.color.primary}},universalTransition:{divideShape:"clone"}},t}(r.A),u=o(92354),d=o(32103),h=o(34506),c=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,n.C6)(t,e),t.prototype.render=function(e,t,o){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,o){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,t,o){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,o){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var n=(0,h.A)("").reset(e,t,o);n.progress&&n.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var o=this._symbolDraw,a=t.pipelineContext.large;return o&&a===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=a?new d.A:new u.A,this._isLargeDraw=a,this.group.removeAll()),this.group.add(o.group),o},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(o(48282).A),p=o(81814),g=o(84525);function y(e){e.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&("cartesian2d"===t.type||"single"===t.type)){var o=t.getBaseAxis?t.getBaseAxis():null;if(o&&(0,g.y)(e,o)){var a=e.getData();a.each(function(e){var t=o.dim,n=o.orient,i="horizontal"===n&&"category"!==o.type||"vertical"===n&&"category"===o.type,r=a.getItemLayout(e),l=a.getItemVisual(e,"symbolSize"),s=l instanceof Array?(l[1]+l[0])/2:l;if("y"===t||"single"===t&&i){var u=(0,g.u)(o,r[0],r[1],s/2);a.setItemLayout(e,[r[0],u])}else if("x"===t||"single"===t&&!i){var u=(0,g.u)(o,r[1],r[0],s/2);a.setItemLayout(e,[u,r[1]])}})}}})}function f(e){(0,a.Y)(p.a),e.registerSeriesModel(s),e.registerChartView(c),e.registerLayout((0,h.A)("scatter"))}function v(e){e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,y)}},80053:function(e,t,o){o.d(t,{a:function(){return R}});var a=o(2492),n=o(39238),i=o(48282),r=o(79230),l=o(13430),s=o(12470),u=o(73217),d=o(77616),h=o(38822),c=o(14150),p=o(93506),g=o(13065),y=o(99990),f=function(e){function t(t,o,a,n){var i=e.call(this)||this;i.z2=2,i.textConfig={inside:!0},(0,h.z)(i).seriesIndex=o.seriesIndex;var l=new r.Ay({z2:4,silent:t.getModel().get(["label","silent"])});return i.setTextContent(l),i.updateData(!0,t,o,a,n),i}return(0,a.C6)(t,e),t.prototype.updateData=function(e,t,o,a,i){this.node=t,t.piece=this,o=o||this._seriesModel,a=a||this._ecModel;var r=this;(0,h.z)(r).dataIndex=t.dataIndex;var s=t.getModel(),d=s.getModel("emphasis"),g=t.getLayout(),y=n.X$({},g);y.label=null;var f=t.getVisual("style");f.lineJoin="bevel";var v=t.getVisual("decal");v&&(f.decal=(0,p.w)(v,i));var m=(0,c.i)(s.getModel("itemStyle"),y,!0);n.X$(y,m),n.__(u.BV,function(e){var t=r.ensureState(e),o=s.getModel([e,"itemStyle"]);t.style=o.getItemStyle();var a=(0,c.i)(o,y);a&&(t.shape=a)}),e?(r.setShape(y),r.shape.r=g.r0,l.LW(r,{shape:{r:g.r}},o,t.dataIndex)):(l.oi(r,{shape:y},o),(0,l.ap)(r)),r.useStyle(f),this._updateLabel(o);var x=s.getShallow("cursor");x&&r.attr("cursor",x),this._seriesModel=o||this._seriesModel,this._ecModel=a||this._ecModel;var _=d.get("focus"),b="relative"===_?n.yB(t.getAncestorsIndices(),t.getDescendantIndices()):"ancestor"===_?t.getAncestorsIndices():"descendant"===_?t.getDescendantIndices():_;(0,u.Lm)(this,b,d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,o=this.node.getModel(),a=o.getModel("label"),i=this.node.getLayout(),r=i.endAngle-i.startAngle,l=(i.startAngle+i.endAngle)/2,s=Math.cos(l),h=Math.sin(l),c=this,p=c.getTextContent(),f=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI;function m(e,t){var o=e.get(t);return null==o?a.get(t):o}p.ignore=!(a.get("show")&&!(null!=v&&Math.abs(r)<v)),n.__(u.wV,function(a){var u,v="normal"===a?o.getModel("label"):o.getModel([a,"label"]),x="normal"===a,_=x?p:p.ensureState(a),b=e.getFormattedLabel(f,a);x&&(b=b||t.node.name),_.style=(0,d.VB)(v,{},null,"normal"!==a,!0),b&&(_.style.text=b);var w=v.get("show");null==w||x||(_.ignore=!w);var S=m(v,"position"),A=x?c:c.states[a],I=A.style.fill;A.textConfig={outsideFill:"inherit"===v.get("color")?I:null,inside:"outside"!==S};var L=m(v,"distance")||0,M=m(v,"align"),D=m(v,"rotate"),N=.5*Math.PI,C=1.5*Math.PI,T=(0,g.n)("tangential"===D?Math.PI/2-l:l),P=T>N&&!(0,y.dh)(T-N)&&T<C;"outside"===S?(u=i.r+L,M=P?"right":"left"):M&&"center"!==M?"left"===M?(u=i.r0+L,M=P?"right":"left"):"right"===M&&(u=i.r-L,M=P?"left":"right"):(u=r===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,M="center"),_.style.align=M,_.style.verticalAlign=m(v,"verticalAlign")||"middle",_.x=u*s+i.cx,_.y=u*h+i.cy;var V=0;"radial"===D?V=(0,g.n)(-l)+(P?Math.PI:0):"tangential"===D?V=(0,g.n)(Math.PI/2-l)+(P?Math.PI:0):n.Et(D)&&(V=D*Math.PI/180),_.rotation=(0,g.n)(V)}),p.dirtyStyle()},t}(s.A),v=o(72195),m=o(1248),x="sunburstRootToNode",_="sunburstHighlight",b=o(24804),w=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,a.C6)(t,e),t.prototype.render=function(e,t,o,a){var i,r,l=this;this.seriesModel=e,this.api=o,this.ecModel=t;var s=e.getData(),u=s.tree.root,d=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),p=[];d.eachNode(function(e){p.push(e)}),function(a,i){function r(e){return e.getId()}function l(n,r){!function(a,n){if(c||!a||a.getValue()||(a=null),a!==u&&n!==u){if(n&&n.piece){var i;a?(n.piece.updateData(!1,a,e,t,o),s.setItemGraphicEl(a.dataIndex,n.piece)):(i=n)&&i.piece&&(h.remove(i.piece),i.piece=null)}else if(a){var r=new f(a,e,t,o);h.add(r),s.setItemGraphicEl(a.dataIndex,r)}}}(null==n?null:a[n],null==r?null:i[r])}(0!==a.length||0!==i.length)&&new v.A(i,a,r,r).add(l).update(l).remove(n.cF(l,null)).execute()}(p,this._oldChildren||[]),i=u,(r=d).depth>0?(l.virtualPiece?l.virtualPiece.updateData(!1,i,e,t,o):(l.virtualPiece=new f(i,e,t,o),h.add(l.virtualPiece)),r.piece.off("click"),l.virtualPiece.on("click",function(e){l._rootToNode(r.parentNode)})):l.virtualPiece&&(h.remove(l.virtualPiece),l.virtualPiece=null),this._initEvents(),this._oldChildren=p},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(t){var o=!1;e.seriesModel.getViewRoot().eachNode(function(a){if(!o&&a.piece&&a.piece===t.target){var n=a.getModel().get("nodeClick");if("rootToNode"===n)e._rootToNode(a);else if("link"===n){var i=a.getModel(),r=i.get("link");if(r){var l=i.get("target",!0)||"_blank";(0,b.JW)(r,l)}}o=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:x,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var o=t.getData().getItemLayout(0);if(o){var a=e[0]-o.cx,n=e[1]-o.cy,i=Math.sqrt(a*a+n*n);return i<=o.r&&i>=o.r0}},t.type="sunburst",t}(i.A),S=o(99659),A=o(45495),I=o(17505),L=o(93906),M=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.ignoreStyleOnData=!0,o}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){var o={name:e.name,children:e.data};!function e(t){var o=0;n.__(t.children,function(t){e(t);var a=t.value;n.cy(a)&&(a=a[0]),o+=a});var a=t.value;n.cy(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=o),a<0&&(a=0),n.cy(t.value)?t.value[0]=a:t.value=a}(o);var a=this._levelModels=n.Tj(e.levels||[],function(e){return new I.A(e,this,t)},this),i=A.A.createTree(o,this,function(e){e.wrapMethod("getItemModel",function(e,t){var o=a[i.getNodeByDataIndex(t).depth];return o&&(e.parentModel=o),e})});return i.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return o.treePathInfo=(0,m.ev)(a,this),o},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){(0,L.A)(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(S.A),D=Math.PI/180;function N(e,t,o){t.eachSeriesByType(e,function(e){var t=e.get("center"),a=e.get("radius");n.cy(a)||(a=[0,a]),n.cy(t)||(t=[t,t]);var i=o.getWidth(),r=o.getHeight(),l=Math.min(i,r),s=(0,y.lo)(t[0],i),u=(0,y.lo)(t[1],r),d=(0,y.lo)(a[0],l/2),h=(0,y.lo)(a[1],l/2),c=-e.get("startAngle")*D,p=e.get("minAngle")*D,g=e.getData().tree.root,f=e.getViewRoot(),v=f.depth,m=e.get("sort");null!=m&&function e(t,o){var a=t.children||[];t.children=function(e,t){if(n.Tn(t)){var o=n.Tj(e,function(e,t){var o=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return o}},index:t}});return o.sort(function(e,o){return t(e.params,o.params)}),n.Tj(o,function(t){return e[t.index]})}var a="asc"===t;return e.sort(function(e,t){var o=(e.getValue()-t.getValue())*(a?1:-1);return 0===o?(e.dataIndex-t.dataIndex)*(a?-1:1):o})}(a,o),a.length&&n.__(t.children,function(t){e(t,o)})}(f,m);var x=0;n.__(f.children,function(e){!isNaN(e.getValue())&&x++});var _=f.getValue(),b=Math.PI/(_||x)*2,w=f.depth>0,S=(h-d)/(f.height-(w?-1:1)||1),A=e.get("clockwise"),I=e.get("stillShowZeroSum"),L=A?1:-1,M=function(t,o){if(t){var a=o;if(t!==g){var i=t.getValue(),r=0===_&&I?b:i*b;r<p&&(r=p),a=o+L*r;var h=t.depth-v-(w?-1:1),c=d+S*h,f=d+S*(h+1),m=e.getLevelModel(t);if(m){var x=m.get("r0",!0),D=m.get("r",!0),N=m.get("radius",!0);null!=N&&(x=N[0],D=N[1]),null!=x&&(c=(0,y.lo)(x,l/2)),null!=D&&(f=(0,y.lo)(D,l/2))}t.setLayout({angle:r,startAngle:o,endAngle:a,clockwise:A,cx:s,cy:u,r0:c,r:f})}if(t.children&&t.children.length){var C=0;n.__(t.children,function(e){C+=M(e,o+C)})}return a-o}};if(w){var N=2*Math.PI;g.setLayout({angle:N,startAngle:c,endAngle:c+N,clockwise:A,cx:s,cy:u,r0:d,r:d+S})}M(f,c)})}var C=o(9894),T=o(59849);function P(e){var t={};e.eachSeriesByType("sunburst",function(e){var o=e.getData(),a=o.tree;a.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(e,o,a){if(0===e.depth)return T.A.color.neutral50;for(var i=e;i&&i.depth>1;)i=i.parentNode;var r=o.getColorFromPalette(i.name||i.dataIndex+"",t);return e.depth>1&&(0,n.Kg)(r)&&(r=(0,C.yY)(r,(e.depth-1)/(a-1)*.5)),r}(i,e,a.root.height));var l=o.ensureUniqueItemVisual(i.dataIndex,"style");(0,n.X$)(l,r)})})}var V=o(55435);function R(e){e.registerChartView(w),e.registerSeriesModel(M),e.registerLayout((0,n.cF)(N,"sunburst")),e.registerProcessor((0,n.cF)(V.A,"sunburst")),e.registerVisual(P),e.registerAction({type:x,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,o){var a=(0,m.mw)(e,[x],t);if(a){var n=t.getViewRoot();n&&(e.direction=(0,m.x5)(n,a.node)?"rollUp":"drillDown"),t.resetViewRoot(a.node)}})}),e.registerAction({type:_,update:"none"},function(e,t,o){e=(0,n.X$)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t){var o=(0,m.mw)(e,[_],t);o&&(e.dataIndex=o.node.dataIndex)}),o.dispatchAction((0,n.X$)(e,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,o){e=(0,n.X$)({},e),o.dispatchAction((0,n.X$)(e,{type:"downplay"}))})}},42594:function(e,t,o){o.d(t,{a:function(){return I}});var a=o(2492),n=o(30212),i=o(1170),r=o(13430),l=o(44331),s=o(73217),u=o(77616),d=o(39238),h=o(72195),c=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._layers=[],o}return(0,a.C6)(t,e),t.prototype.render=function(e,t,o){var a=e.getData(),c=this,p=this.group,g=e.getLayerSeries(),y=a.getLayout("layoutInfo"),f=y.rect,v=y.boundaryGap;function m(e){return e.name}p.x=0,p.y=f.y+v[0];var x=new h.A(this._layersSeries||[],g,m,m),_=[];function b(t,o,d){var h,y,f=c._layers;if("remove"===t)return void p.remove(f[o]);for(var v=[],m=[],x=g[o].indices,b=0;b<x.length;b++){var w=a.getItemLayout(x[b]),S=w.x,A=w.y0,I=w.y;v.push(S,A),m.push(S,A+I),h=a.getItemVisual(x[b],"style")}var L=a.getItemLayout(x[0]),M=e.getModel("label").get("margin"),D=e.getModel("emphasis");if("add"===t){var N,C,T,P,V=_[o]=new i.A;y=new n.z({shape:{points:v,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),V.add(y),p.add(V),e.isAnimationEnabled()&&y.setClipPath((N=y.getBoundingRect(),C=e,T=function(){y.removeClipPath()},P=new l.A({shape:{x:N.x-10,y:N.y-10,width:0,height:N.height+20}}),r.LW(P,{shape:{x:N.x-50,width:N.width+100,height:N.height+20}},C,T),P))}else{var V=f[d];y=V.childAt(0),p.add(V),_[o]=V,r.oi(y,{shape:{points:v,stackedOnPoints:m}},e),(0,r.ap)(y)}(0,u.qM)(y,(0,u.lx)(e),{labelDataIndex:x[b-1],defaultText:a.getName(x[b-1]),inheritColor:h.fill},{normal:{verticalAlign:"middle"}}),y.setTextConfig({position:null,local:!0});var R=y.getTextContent();R&&(R.x=L.x-M,R.y=L.y0+L.y/2),y.useStyle(h),a.setItemGraphicEl(o,y),(0,s.Mx)(y,e),(0,s.Lm)(y,D.get("focus"),D.get("blurScope"),D.get("disabled"))}x.add((0,d.oI)(b,this,"add")).update((0,d.oI)(b,this,"update")).remove((0,d.oI)(b,this,"remove")).execute(),this._layersSeries=g,this._layers=_},t.type="themeRiver",t}(o(48282).A),p=o(99659),g=o(64727),y=o(43020),f=o(85382),v=o(1018),m=o(7823),x=o(35241),_=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,a.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new m.A(d.oI(this.getData,this),d.oI(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,o={},a=(0,v.Sq)(e,function(e){return o.hasOwnProperty(e[0]+"")||(o[e[0]+""]=-1),e[2]}),n=[];a.buckets.each(function(e,t){n.push({name:t,dataList:e})});for(var i=n.length,r=0;r<i;++r){for(var l=n[r].name,s=0;s<n[r].dataList.length;++s){var u=n[r].dataList[s][0]+"";o[u]=r}for(var u in o)o.hasOwnProperty(u)&&o[u]!==r&&(o[u]=r,e[t]=[u,0,l],t++)}return e},t.prototype.getInitialData=function(e,t){for(var o=this.getReferringComponents("singleAxis",v.US).models[0].get("type"),a=d.pb(e.data,function(e){return void 0!==e[2]}),n=this.fixData(a||[]),i=[],r=this.nameMap=d.nt(),l=0,s=0;s<n.length;++s)i.push(n[s][2]),!r.get(n[s][2])&&(r.set(n[s][2],l),l++);var u=(0,g.A)(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,y.B)(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new f.A(u,this);return h.initData(n),h},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),o=[],a=0;a<t;++a)o[a]=a;var n=e.mapDimension("single"),i=(0,v.Sq)(o,function(t){return e.get("name",t)}),r=[];return i.buckets.each(function(t,o){t.sort(function(t,o){return e.get(n,t)-e.get(n,o)}),r.push({name:o,indices:t})}),r},t.prototype.getAxisTooltipData=function(e,t,o){d.cy(e)||(e=e?[e]:[]);for(var a,n=this.getData(),i=this.getLayerSeries(),r=[],l=i.length,s=0;s<l;++s){for(var u=Number.MAX_VALUE,h=-1,c=i[s].indices.length,p=0;p<c;++p){var g=n.get(e[0],i[s].indices[p]),y=Math.abs(g-t);y<=u&&(a=g,u=y,h=i[s].indices[p])}r.push(h)}return{dataIndices:r,nestestValue:a}},t.prototype.formatTooltip=function(e,t,o){var a=this.getData(),n=a.getName(e),i=a.get(a.mapDimension("value"),e);return(0,x.Qx)("nameValue",{name:n,value:i})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(p.A),b=o(99990);function w(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),o=e.coordinateSystem,a={},n=o.getRect();a.rect=n;var i=e.get("boundaryGap"),r=o.getAxis();a.boundaryGap=i,"horizontal"===r.orient?(i[0]=b.lo(i[0],n.height),i[1]=b.lo(i[1],n.height),S(t,e,n.height-i[0]-i[1])):(i[0]=b.lo(i[0],n.width),i[1]=b.lo(i[1],n.width),S(t,e,n.width-i[0]-i[1])),t.setLayout("layoutInfo",a)})}function S(e,t,o){if(e.count())for(var a,n=t.coordinateSystem,i=t.getLayerSeries(),r=e.mapDimension("single"),l=e.mapDimension("value"),s=d.Tj(i,function(t){return d.Tj(t.indices,function(t){var o=n.dataToPoint(e.get(r,t));return o[1]=e.get(l,t),o})}),u=function(e){for(var t=e.length,o=e[0].length,a=[],n=[],i=0,r=0;r<o;++r){for(var l=0,s=0;s<t;++s)l+=e[s][r][1];l>i&&(i=l),a.push(l)}for(var u=0;u<o;++u)n[u]=(i-a[u])/2;i=0;for(var d=0;d<o;++d){var h=a[d]+n[d];h>i&&(i=h)}return{y0:n,max:i}}(s),h=u.y0,c=o/u.max,p=i.length,g=i[0].indices.length,y=0;y<g;++y){a=h[y]*c,e.setItemLayout(i[0].indices[y],{layerIndex:0,x:s[0][y][0],y0:a,y:s[0][y][1]*c});for(var f=1;f<p;++f)a+=s[f-1][y][1]*c,e.setItemLayout(i[f].indices[y],{layerIndex:f,x:s[f][y][0],y0:a,y:s[f][y][1]*c})}}var A=o(55435);function I(e){e.registerChartView(c),e.registerSeriesModel(_),e.registerLayout(w),e.registerProcessor((0,A.A)("themeRiver"))}},70815:function(e,t,o){o.d(t,{a:function(){return Y}});var a=o(2492),n=o(39238),i=o(1170),r=o(13430),l=o(5885),s=o(38822),u=o(16832);function d(e,t){var o=e.isExpand?e.children:[],a=e.parentNode.children,n=e.hierNode.i?a[e.hierNode.i-1]:null;if(o.length){!function(e){for(var t=e.children,o=t.length,a=0,n=0;--o>=0;){var i=t[o];i.hierNode.prelim+=a,i.hierNode.modifier+=a,n+=i.hierNode.change,a+=i.hierNode.shift+n}}(e);var i=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;n?(e.hierNode.prelim=n.hierNode.prelim+t(e,n),e.hierNode.modifier=e.hierNode.prelim-i):e.hierNode.prelim=i}else n&&(e.hierNode.prelim=n.hierNode.prelim+t(e,n));e.parentNode.hierNode.defaultAncestor=function(e,t,o,a){if(t){for(var n=e,i=e,r=i.parentNode.children[0],l=t,s=n.hierNode.modifier,u=i.hierNode.modifier,d=r.hierNode.modifier,h=l.hierNode.modifier;l=g(l),i=y(i),l&&i;){n=g(n),r=y(r),n.hierNode.ancestor=e;var c,p,f,v=l.hierNode.prelim+h-i.hierNode.prelim-u+a(l,i);v>0&&(function(e,t,o){var a=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=a}((c=l,p=e,f=o,c.hierNode.ancestor.parentNode===p.parentNode?c.hierNode.ancestor:f),e,v),u+=v,s+=v),h+=l.hierNode.modifier,u+=i.hierNode.modifier,s+=n.hierNode.modifier,d+=r.hierNode.modifier}l&&!g(n)&&(n.hierNode.thread=l,n.hierNode.modifier+=h-s),i&&!y(r)&&(r.hierNode.thread=i,r.hierNode.modifier+=u-d,o=e)}return o}(e,n,e.parentNode.hierNode.defaultAncestor||a[0],t)}function h(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function c(e){return arguments.length?e:f}function p(e,t){return{x:t*Math.cos(e-=Math.PI/2),y:t*Math.sin(e)}}function g(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function y(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function f(e,t){return e.parentNode===t.parentNode?1:2}var v=o(12697),m=o(15115),x=o(15390),_=o(14218),b=o(99990),w=o(48282),S=o(51315),A=o(73217),I=o(59849),L=function(){this.parentPoint=[],this.childPoints=[]},M=function(e){function t(t){return e.call(this,t)||this}return(0,a.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:I.A.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new L},t.prototype.buildPath=function(e,t){var o=t.childPoints,a=o.length,n=t.parentPoint,i=o[0],r=o[a-1];if(1===a){e.moveTo(n[0],n[1]),e.lineTo(i[0],i[1]);return}var l=t.orient,s=+("TB"!==l&&"BT"!==l),u=1-s,d=(0,b.lo)(t.forkPosition,1),h=[];h[s]=n[s],h[u]=n[u]+(r[u]-n[u])*d,e.moveTo(n[0],n[1]),e.lineTo(h[0],h[1]),e.moveTo(i[0],i[1]),h[s]=i[s],e.lineTo(h[0],h[1]),h[s]=r[s],e.lineTo(h[0],h[1]),e.lineTo(r[0],r[1]);for(var c=1;c<a-1;c++){var p=o[c];e.moveTo(p[0],p[1]),h[s]=p[s],e.lineTo(h[0],h[1])}},t}(S.Ay),D=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._mainGroup=new i.A,o}return(0,a.C6)(t,e),t.prototype.init=function(e,t){this._controller=new _.A(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,o){var a=e.getData(),n=e.layoutInfo,i=this._mainGroup;"radial"===e.get("layout")?(i.x=n.x+n.width/2,i.y=n.y+n.height/2):(i.x=n.x,i.y=n.y),this._updateViewCoordSys(e,o),this._updateController(e,null,t,o);var r=this._data;a.diff(r).add(function(t){N(a,t)&&C(a,t,null,i,e)}).update(function(t,o){var n=r.getItemGraphicEl(o);if(!N(a,t)){n&&V(r,o,n,i,e);return}C(a,t,n,i,e)}).remove(function(t){var o=r.getItemGraphicEl(t);o&&V(r,t,o,i,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl(function(t,a){t.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:a})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,t){var o=e.getData(),a=[];o.each(function(e){var t=o.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||a.push([+t.x,+t.y])});var n=[],i=[];v.Cr(a,n,i);var r=this._min,l=this._max;i[0]-n[0]==0&&(n[0]=r?r[0]:n[0]-1,i[0]=l?l[0]:i[0]+1),i[1]-n[1]==0&&(n[1]=r?r[1]:n[1]-1,i[1]=l?l[1]:i[1]+1);var s=e.coordinateSystem=new m.A(null,{api:t,ecModel:e.ecModel});s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1]),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=n,this._max=i},t.prototype._updateController=function(e,t,o,a){var n=this;x.c$(e,a,this.group,this._controller,this._controllerHost,t),this._controller.on("zoom",function(t){n._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),o=this._getNodeGlobalScale(e);t.eachItemGraphicEl(function(e,t){e.setSymbolScale(o)})},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,a=t.scaleX||1;return((t.getZoom()-1)*o+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(w.A);function N(e,t){var o=e.getItemLayout(t);return o&&!isNaN(o.x)&&!isNaN(o.y)}function C(e,t,o,a,i){var d=!o,h=e.tree.getNodeByDataIndex(t),c=h.getModel(),p=h.getVisual("style").fill,g=!1===h.isExpand&&0!==h.children.length?p:I.A.color.neutral00,y=e.tree.root,f=h.parentNode===y?h:h.parentNode||h,v=e.getItemGraphicEl(f.dataIndex),m=f.getLayout(),x=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:m,_=h.getLayout();d?((o=new u.A(e,t,null,{symbolInnerColor:g,useNameLabel:!0})).x=x.x,o.y=x.y):o.updateData(e,t,null,{symbolInnerColor:g,useNameLabel:!0}),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=_.rawX,o.__radialRawY=_.rawY,a.add(o),e.setItemGraphicEl(t,o),o.__oldX=o.x,o.__oldY=o.y,r.oi(o,{x:_.x,y:_.y},i);var b=o.getSymbolPath();if("radial"===i.get("layout")){var w=y.children[0],S=w.getLayout(),L=w.children.length,D=void 0,N=void 0;if(_.x===S.x&&!0===h.isExpand&&w.children.length){var C={x:(w.children[0].getLayout().x+w.children[L-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[L-1].getLayout().y)/2};(D=Math.atan2(C.y-S.y,C.x-S.x))<0&&(D=2*Math.PI+D),(N=C.x<S.x)&&(D-=Math.PI)}else(D=Math.atan2(_.y-S.y,_.x-S.x))<0&&(D=2*Math.PI+D),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(N=_.x<S.x)&&(D-=Math.PI):(N=_.x>S.x)||(D-=Math.PI);var T=N?"left":"right",P=c.getModel("label"),V=P.get("rotate"),E=Math.PI/180*V,k=b.getTextContent();k&&(b.setTextConfig({position:P.get("position")||T,rotation:null==V?-D:E,origin:"center"}),k.setStyle("verticalAlign","middle"))}var O=c.get(["emphasis","focus"]),z="relative"===O?n.yB(h.getAncestorsIndices(),h.getDescendantIndices()):"ancestor"===O?h.getAncestorsIndices():"descendant"===O?h.getDescendantIndices():null;z&&((0,s.z)(o).focus=z),function(e,t,o,a,i,s,u,d){var h=t.getModel(),c=e.get("edgeShape"),p=e.get("layout"),g=e.getOrient(),y=e.get(["lineStyle","curveness"]),f=e.get("edgeForkPosition"),v=h.getModel("lineStyle").getLineStyle(),m=a.__edge;if("curve"===c)t.parentNode&&t.parentNode!==o&&(m||(m=a.__edge=new l.A({shape:R(p,g,y,i,i)})),r.oi(m,{shape:R(p,g,y,s,u)},e));else if("polyline"===c&&"orthogonal"===p&&t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var x=t.children,_=[],b=0;b<x.length;b++){var w=x[b].getLayout();_.push([w.x,w.y])}m||(m=a.__edge=new M({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:g,forkPosition:f}})),r.oi(m,{shape:{parentPoint:[u.x,u.y],childPoints:_}},e)}m&&!("polyline"===c&&!t.isExpand)&&(m.useStyle(n.NT({strokeNoScale:!0,fill:null},v)),(0,A.Mx)(m,h,"lineStyle"),(0,A.DW)(m),d.add(m))}(i,h,y,o,x,m,_,a),o.__edge&&(o.onHoverStateChange=function(t){if("blur"!==t){var a=h.parentNode&&e.getItemGraphicEl(h.parentNode.dataIndex);a&&a.hoverState===A.zX||(0,A.Pk)(o.__edge,t)}})}function T(e,t,o,a,n){var i=P(t.tree.root,e),l=i.source,s=i.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var d=t.getItemGraphicEl(l.dataIndex).__edge,h=u.__edge||(!1===l.isExpand||1===l.children.length?d:void 0),c=a.get("edgeShape"),p=a.get("layout"),g=a.get("orient"),y=a.get(["lineStyle","curveness"]);h&&("curve"===c?r.Nz(h,{shape:R(p,g,y,s,s),style:{opacity:0}},a,{cb:function(){o.remove(h)},removeOpt:n}):"polyline"===c&&"orthogonal"===a.get("layout")&&r.Nz(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},a,{cb:function(){o.remove(h)},removeOpt:n}))}}function P(e,t){for(var o,a=t.parentNode===e?t:t.parentNode||t;null==(o=a.getLayout());)a=a.parentNode===e?a:a.parentNode||a;return{source:a,sourceLayout:o}}function V(e,t,o,a,n){var i=e.tree.getNodeByDataIndex(t),l=P(e.tree.root,i).sourceLayout,s={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};r.Nz(o,{x:l.x+1,y:l.y+1},n,{cb:function(){a.remove(o),e.setItemGraphicEl(t,null)},removeOpt:s}),o.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),i.children.forEach(function(t){T(t,e,a,n,s)}),T(i,e,a,n,s)}function R(e,t,o,a,n){if("radial"===e){u=a.rawX,h=a.rawY,d=n.rawX;var i,r,l,s,u,d,h,c=n.rawY,g=p(u,h),y=p(u,h+(c-h)*o),f=p(d,c+(h-c)*o),v=p(d,c);return{x1:g.x||0,y1:g.y||0,x2:v.x||0,y2:v.y||0,cpx1:y.x||0,cpy1:y.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=a.x,h=a.y,d=n.x,c=n.y,("LR"===t||"RL"===t)&&(i=u+(d-u)*o,r=h,l=d+(u-d)*o,s=c),("TB"===t||"BT"===t)&&(i=u,r=h+(c-h)*o,l=d,s=c+(h-c)*o),{x1:u,y1:h,x2:d,y2:c,cpx1:i,cpy1:r,cpx2:l,cpy2:s}}var E=o(99659),k=o(45495),O=o(17505),z=o(35241),G=o(1248),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},o=e.leaves||{},a=new O.A(o,this,this.ecModel),n=k.A.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,t){var o=n.getNodeByDataIndex(t);return o&&o.children.length&&o.isExpand||(e.parentModel=a),e})}),i=0;n.eachNode("preorder",function(e){e.depth>i&&(i=e.depth)});var r=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:i;return n.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=r}),n.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,o){for(var a=this.getData().tree,n=a.root.children[0],i=a.getNodeByDataIndex(e),r=i.getValue(),l=i.name;i&&i!==n;)l=i.parentNode.name+"."+l,i=i.parentNode;return(0,z.Qx)("nameValue",{name:l,value:r,noValue:isNaN(r)||null==r})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=(0,G.ev)(a,this),o.collapsed=!a.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:I.A.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(E.A);function W(e,t){for(var o,a=[e];o=a.pop();)if(t(o),o.isExpand){var n=o.children;if(n.length)for(var i=n.length-1;i>=0;i--)a.push(n[i])}}var X=o(65245);function F(e,t){e.eachSeriesByType("tree",function(e){!function(e,t){var o=(0,X.Lj)(e,t).refContainer,a=(0,X.dV)(e.getBoxLayoutParams(),o);e.layoutInfo=a;var n=e.get("layout"),i=0,r=0,l=null;"radial"===n?(i=2*Math.PI,r=Math.min(a.height,a.width)/2,l=c(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(i=a.width,r=a.height,l=c());var s=e.getData().tree.root,u=s.children[0];if(u){!function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,o,a=[e];t=a.pop();)if(o=t.children,t.isExpand&&o.length)for(var n=o.length,i=n-1;i>=0;i--){var r=o[i];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},a.push(r)}}(s),function(e,t,o){for(var a,n=[e],i=[];a=n.pop();)if(i.push(a),a.isExpand){var r=a.children;if(r.length)for(var l=0;l<r.length;l++)n.push(r[l])}for(;a=i.pop();)t(a,o)}(u,d,l),s.hierNode.modifier=-u.hierNode.prelim,W(u,h);var g=u,y=u,f=u;W(u,function(e){var t=e.getLayout().x;t<g.getLayout().x&&(g=e),t>y.getLayout().x&&(y=e),e.depth>f.depth&&(f=e)});var v=g===y?1:l(g,y)/2,m=v-g.getLayout().x,x=0,_=0,b=0,w=0;if("radial"===n)x=i/(y.getLayout().x+v+m),_=r/(f.depth-1||1),W(u,function(e){b=(e.getLayout().x+m)*x,w=(e.depth-1)*_;var t=p(b,w);e.setLayout({x:t.x,y:t.y,rawX:b,rawY:w},!0)});else{var S=e.getOrient();"RL"===S||"LR"===S?(_=r/(y.getLayout().x+v+m),x=i/(f.depth-1||1),W(u,function(e){w=(e.getLayout().x+m)*_,b="LR"===S?(e.depth-1)*x:i-(e.depth-1)*x,e.setLayout({x:b,y:w},!0)})):("TB"===S||"BT"===S)&&(x=i/(y.getLayout().x+v+m),_=r/(f.depth-1||1),W(u,function(e){b=(e.getLayout().x+m)*x,w="TB"===S?(e.depth-1)*_:r-(e.depth-1)*_,e.setLayout({x:b,y:w},!0)}))}}}(e,t)})}function H(e){e.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(e){var o=e.getModel().getModel("itemStyle").getItemStyle(),a=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,n.X$)(a,o)})})}function Y(e){e.registerChartView(D),e.registerSeriesModel(B),e.registerLayout(F),e.registerVisual(H),e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var o=e.dataIndex,a=t.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,o){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var o=t.coordinateSystem,a=(0,x.Ok)(o,e,t.get("scaleLimit"));t.setCenter(a.center),t.setZoom(a.zoom)})})}},17267:function(e,t,o){o.d(t,{a:function(){return ed}});var a=o(1248),n=o(39238),i=["treemapZoomToNode","treemapRender","treemapMove"],r=o(2492),l=o(99659),s=o(45495),u=o(17505),d=o(1018),h=o(35241),c=o(93906),p=o(59849),g=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.preventUsingHoverLayer=!0,o}return(0,r.C6)(t,e),t.prototype.getInitialData=function(e,t){var o={name:e.name,children:e.data};!function e(t){var o=0;n.__(t.children,function(t){e(t);var a=t.value;n.cy(a)&&(a=a[0]),o+=a});var a=t.value;n.cy(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=o),a<0&&(a=0),n.cy(t.value)?t.value[0]=a:t.value=a}(o);var a=e.levels||[],i=this.designatedVisualItemStyle={},r=new u.A({itemStyle:i},this,t);a=e.levels=function(e,t){var o,a,i=(0,d.qB)(t.get("color")),r=(0,d.qB)(t.get(["aria","decal","decals"]));if(i){e=e||[],n.__(e,function(e){var t=new u.A(e),n=t.get("color"),i=t.get("decal");(t.get(["itemStyle","color"])||n&&"none"!==n)&&(o=!0),(t.get(["itemStyle","decal"])||i&&"none"!==i)&&(a=!0)});var l=e[0]||(e[0]={});return o||(l.color=i.slice()),!a&&r&&(l.decal=r.slice()),e}}(a,t);var l=n.Tj(a||[],function(e){return new u.A(e,r,t)},this),h=s.A.createTree(o,this,function(e){e.wrapMethod("getItemModel",function(e,t){var o=h.getNodeByDataIndex(t);return e.parentModel=(o?l[o.depth]:null)||r,e})});return h.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,o){var a=this.getData(),n=this.getRawValue(e),i=a.getName(e);return(0,h.Qx)("nameValue",{name:i,value:n})},t.prototype.getDataParams=function(t){var o=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return o.treeAncestors=(0,a.ev)(n,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},n.X$(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=n.nt(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){(0,c.A)(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:p.A.size.l,top:p.A.size.xxxl,right:p.A.size.l,bottom:p.A.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:p.A.size.m,emptyItemWidth:25,itemStyle:{color:p.A.color.backgroundShade,textStyle:{color:p.A.color.secondary}},emphasis:{itemStyle:{color:p.A.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:p.A.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:p.A.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(l.A),y=o(1170),f=o(44331),v=o(38822),m=o(73217),x=o(72195),_=o(40365),b=o(79230),w=o(65245),S=o(77616),A=function(){function e(e){this.group=new y.A,e.add(this.group)}return e.prototype.render=function(e,t,o,a){var n=e.getModel("breadcrumb"),i=this.group;if(i.removeAll(),n.get("show")&&o){var r=n.getModel("itemStyle"),l=n.getModel("emphasis"),s=r.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),d=w.Lj(e,t).refContainer,h={left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},c={emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]},p=w.dV(h,d);this._prepare(o,c,s),this._renderContent(e,c,p,r,l,s,u,a),w.m$(i,h,d)}},e.prototype._prepare=function(e,t,o){for(var a=e;a;a=a.parentNode){var n=(0,d.vS)(a.getModel().get("name"),""),i=Math.max(o.getTextRect(n).width+16,t.emptyItemWidth);t.totalWidth+=i+8,t.renderList.push({node:a,text:n,width:i})}},e.prototype._renderContent=function(e,t,o,i,r,l,s,u){for(var d=0,h=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),p=t.totalWidth,g=t.renderList,y=r.getModel("itemStyle").getItemStyle(),f=g.length-1;f>=0;f--){var x,w,A,I=g[f],L=I.node,M=I.width,D=I.text;p>o.width&&(p-=M-h,M=h,D=null);var N=new _.A({shape:{points:function(e,t,o,a,n,i){var r=[[n?e:e-5,0],[e+o,t],[e+o,t+a],[n?e:e-5,t+a]];return i||r.splice(2,0,[e+o+5,t+a/2]),n||r.push([e,t+a/2]),r}(d,0,M,c,f===g.length-1,0===f)},style:(0,n.NT)(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new b.Ay({style:(0,S.VB)(l,{text:D})}),textConfig:{position:"inside"},z2:1e4*m.CA,onclick:(0,n.cF)(u,L)});N.disableLabelAnimation=!0,N.getTextContent().ensureState("emphasis").style=(0,S.VB)(s,{text:D}),N.ensureState("emphasis").style=y,(0,m.Lm)(N,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(N),x=N,w=e,A=L,(0,v.z)(x).eventData={componentType:"series",componentSubType:"treemap",componentIndex:w.componentIndex,seriesIndex:w.seriesIndex,seriesName:w.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:A&&A.dataIndex,name:A&&A.name},treePathInfo:A&&(0,a.ev)(A,w)},d+=M+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),I=o(14218),L=o(51888),M=o(72935),D=o(85957),N=o(83296),C=o(48282),T=o(53867),P=o(24804),V=y.A,R=f.A,E="label",k="upperLabel",O=10*m.CA,z=2*m.CA,G=3*m.CA,B=(0,N.A)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),W=function(e){var t=B(e);return t.stroke=t.fill=t.lineWidth=null,t},X=(0,d.$r)(),F=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o._state="ready",o._storage=H(),o}return(0,r.C6)(t,e),t.prototype.render=function(e,t,o,i){var r=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!(0>(0,n.qh)(r,e))){this.seriesModel=e,this.api=o,this.ecModel=t;var l=a.mw(i,["treemapZoomToNode","treemapRootToNode"],e),s=i&&i.type,u=e.layoutInfo,d=!this._oldTree,h=this._storage,c="treemapRootToNode"===s&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(u),g=e.get("animation"),y=this._doRender(p,e,c);!g||d||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?y.renderFinally():this._doAnimation(p,y,e,c),this._resetController(o),this._renderBreadcrumb(e,o,l)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new V,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,o){var a,i,r=t.getData().tree,l=this._oldTree,s=H(),u=H(),h=this._storage,c=[];!function e(a,i,r,l,p){function g(e){return e.getId()}function f(g,f){var x=null!=g?a[g]:null,_=null!=f?i[f]:null,b=function(e,t,o,a,i,r,l,s,u,h){if(l){var c=l.getLayout(),p=e.getData(),g=l.getModel();if(p.setItemGraphicEl(l.dataIndex,null),c&&c.isInView){var f=c.width,x=c.height,_=c.borderWidth,b=c.invisible,w=l.getRawIndex(),A=s&&s.getRawIndex(),I=l.viewChildren,L=c.upperHeight,M=I&&I.length,D=g.getModel("itemStyle"),N=g.getModel(["emphasis","itemStyle"]),C=g.getModel(["blur","itemStyle"]),P=g.getModel(["select","itemStyle"]),F=D.get("borderRadius")||0,H=eo("nodeGroup",V);if(H){if(u.add(H),H.x=c.x||0,H.y=c.y||0,H.markRedraw(),X(H).nodeWidth=f,X(H).nodeHeight=x,c.isAboveViewRoot)return H;var Y=eo("background",R,h,z);Y&&function(t,o,a){var n=(0,v.z)(o);if(n.dataIndex=l.dataIndex,n.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:f,height:x,r:F}),b)K(o);else{o.invisible=!1;var i=l.getVisual("style"),r=i.stroke,s=W(D);s.fill=r;var u=B(N);u.fill=N.get("borderColor");var d=B(C);d.fill=C.get("borderColor");var h=B(P);if(h.fill=P.get("borderColor"),a){var c=f-2*_;ee(o,r,i.opacity,{x:_,y:0,width:c,height:L})}else o.removeTextContent();o.setStyle(s),o.ensureState("emphasis").style=u,o.ensureState("blur").style=d,o.ensureState("select").style=h,(0,m.DW)(o)}t.add(o)}(H,Y,M&&c.upperLabelHeight);var U=g.getModel("emphasis"),q=U.get("focus"),Z=U.get("blurScope"),j=U.get("disabled"),$="ancestor"===q?l.getAncestorsIndices():"descendant"===q?l.getDescendantIndices():q;if(M)(0,m.u6)(H)&&(0,m.ix)(H,!1),Y&&((0,m.ix)(Y,!j),p.setItemGraphicEl(l.dataIndex,Y),(0,m.gR)(Y,$,Z));else{var J=eo("content",R,h,G);J&&function(t,o){var a=(0,v.z)(o);a.dataIndex=l.dataIndex,a.seriesIndex=e.seriesIndex;var n=Math.max(f-2*_,0),i=Math.max(x-2*_,0);if(o.culling=!0,o.setShape({x:_,y:_,width:n,height:i,r:F}),b)K(o);else{o.invisible=!1;var r=l.getVisual("style"),s=r.fill,u=W(D);u.fill=s,u.decal=r.decal;var d=B(N),h=B(C),c=B(P);ee(o,s,r.opacity,null),o.setStyle(u),o.ensureState("emphasis").style=d,o.ensureState("blur").style=h,o.ensureState("select").style=c,(0,m.DW)(o)}t.add(o)}(H,J),Y.disableMorphing=!0,Y&&(0,m.u6)(Y)&&(0,m.ix)(Y,!1),(0,m.ix)(H,!j),p.setItemGraphicEl(l.dataIndex,H);var Q=g.getShallow("cursor");Q&&J.attr("cursor",Q),(0,m.gR)(H,$,Z)}return H}}}function K(e){e.invisible||r.push(e)}function ee(t,o,a,i){var r=g.getModel(i?k:E),s=(0,d.vS)(g.get("name"),null),u=r.getShallow("show");(0,S.qM)(t,(0,S.lx)(g,i?k:E),{defaultText:u?s:null,inheritColor:o,defaultOpacity:a,labelFetcher:e,labelDataIndex:l.dataIndex});var h=t.getTextContent();if(h){var p=h.style,y=(0,n.QX)(p.padding||0);i&&(t.setTextConfig({layoutRect:i}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-y[1]-y[3],0),o=Math.max((i?i.height:t.shape.height)-y[0]-y[2],0);(p.width!==e||p.height!==o)&&h.setStyle({width:e,height:o})},p.truncateMinChar=2,p.lineOverflow="truncate",et(p,i,c);var f=h.getState("emphasis");et(f?f.style:null,i,c)}}function et(t,o,a){var n=t?t.text:null;if(!o&&a.isLeafRoot&&null!=n){var i=e.get("drillDownIcon",!0);t.text=i?i+" "+n:n}}function eo(e,r,s,u){var d,h,c,p=null!=A&&o[e][A],g=i[e];return p?(o[e][A]=null,d=g,h=p,c=d[w]={},h instanceof V?(c.oldX=h.x,c.oldY=h.y):c.oldShape=(0,n.X$)({},h.shape)):b||((p=new r)instanceof T.Ay&&(p.z2=s*O+u),function(e,t){var o=e[w]={},n=l.parentNode,r=t instanceof y.A;if(n&&(!a||"drillDown"===a.direction)){var s=0,u=0,d=i.background[n.getRawIndex()];!a&&d&&d.oldShape&&(s=d.oldShape.width,u=d.oldShape.height),r?(o.oldX=0,o.oldY=u):o.oldShape={x:s,y:u,width:0,height:0}}o.fadein=!r}(g,p)),t[e][w]=p}}(t,u,h,o,s,c,x,_,r,p);b&&e(x&&x.viewChildren||[],_&&_.viewChildren||[],b,l,p+1)}l?(i=a,(0,n.__)(a,function(e,t){e.isRemoved()||f(t,t)})):new x.A(i,a,g,g).add(f).update(f).remove((0,n.cF)(f,null)).execute()}(r.root?[r.root]:[],l&&l.root?[l.root]:[],e,r===l||!l,0);var p=(a=h,i=H(),a&&(0,n.__)(a,function(e,t){var o=i[t];(0,n.__)(e,function(e){e&&(o.push(e),X(e).willDelete=!0)})}),i);if(this._oldTree=r,this._storage=u,this._controllerHost){var g=this.seriesModel.layoutInfo,f=r.root.getLayout();f.width===g.width&&f.height===g.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){(0,n.__)(p,function(e){(0,n.__)(e,function(e){e.parent&&e.parent.remove(e)})}),(0,n.__)(c,function(e){e.invisible=!0,e.dirty()})}}},t.prototype._doAnimation=function(e,t,o,a){var i=o.get("animationDurationUpdate"),r=o.get("animationEasing"),l=((0,n.Tn)(i)?0:i)||0,s=((0,n.Tn)(r)?null:r)||"cubicOut",u=D.x();(0,n.__)(t.willDeleteEls,function(e,t){(0,n.__)(e,function(e,o){if(!e.invisible){var n,i=e.parent,r=X(i);if(a&&"drillDown"===a.direction)n=i===a.rootNodeGroup?{shape:{x:0,y:0,width:r.nodeWidth,height:r.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;r.willDelete||(d=r.nodeWidth/2,h=r.nodeHeight/2),n="nodeGroup"===t?{x:d,y:h,style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}n&&u.add(e,n,l,0,s)}})}),(0,n.__)(this._storage,function(e,o){(0,n.__)(e,function(e,a){var i=t.lastsForAnimation[o][a],r={};i&&(e instanceof y.A?null!=i.oldX&&(r.x=e.x,r.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(r.shape=(0,n.X$)({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle("opacity",0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),u.add(e,r,l,0,s))})},this),this._state="animating",u.finished((0,n.oI)(function(){this._state="ready",t.renderFinally()},this)).start()},t.prototype._resetController=function(e){var t=this,o=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var i=this.seriesModel;o||((o=this._controller=new I.A(e.getZr())).on("pan",(0,n.oI)(this._onPan,this)),o.on("zoom",(0,n.oI)(this._onZoom,this))),o.enable(i.get("roam"),{api:e,zInfo:{component:i},triggerInfo:{roamTrigger:i.get("roamTrigger"),isInSelf:function(e,o,a){var n=t._containerGroup;return!!n&&n.getBoundingRect().contain(o-n.x,a-n.y)}}}),a.zoomLimit=i.get("scaleLimit"),a.zoom=i.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(t){var o=t.getLayout();o&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}}},t.prototype._onZoom=function(e){var t=e.originX,o=e.originY,a=e.scale;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;var r=new L.A(i.x,i.y,i.width,i.height),l=null,s=this._controllerHost;l=s.zoomLimit;var u=s.zoom=s.zoom||1;if(u*=a,l){var d=l.min||0;u=Math.max(Math.min(l.max||1/0,u),d)}var h=u/s.zoom;s.zoom=u;var c=this.seriesModel.layoutInfo;t-=c.x,o-=c.y;var p=M.vt();M.Tl(p,p,[-t,-o]),M.hs(p,p,[h,h]),M.Tl(p,p,[t,o]),r.applyTransform(p),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",function(e){if("ready"===t._state){var o=t.seriesModel.get("nodeClick",!0);if(o){var a=t.findTarget(e.offsetX,e.offsetY);if(a){var n=a.node;if(n.getLayout().isLeafRoot)t._rootToNode(a);else if("zoomToNode"===o)t._zoomToNode(a);else if("link"===o){var i=n.hostTree.data.getItemModel(n.dataIndex),r=i.get("link",!0),l=i.get("target",!0)||"blank";r&&(0,P.JW)(r,l)}}}}},this)},t.prototype._renderBreadcrumb=function(e,t,o){var n=this;!o&&((o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(o={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new A(this.group))).render(e,t,o.node,function(t){"animating"!==n._state&&(a.x5(e.getViewRoot(),t)?n._rootToNode({node:t}):n._zoomToNode({node:t}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=H(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(a){var n=this._storage.background[a.getRawIndex()];if(n){var i=n.transformCoordToLocal(e,t),r=n.shape;if(!(r.x<=i[0])||!(i[0]<=r.x+r.width)||!(r.y<=i[1])||!(i[1]<=r.y+r.height))return!1;o={node:a,offsetX:i[0],offsetY:i[1]}}},this),o},t.type="treemap",t}(C.A);function H(){return{nodeGroup:[],background:[],content:[]}}var Y=o(54817),U=o(9894),q=(0,d.$r)(),Z={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||function e(t,o,a,i){var r=t.getModel(),l=t.getLayout(),s=t.hostTree.data;if(l&&!l.invisible&&l.isInView){var u,d,h,c,p,g,y,f=r.getModel("itemStyle"),v=(u=f,d=o,h=i,c=(0,n.X$)({},d),p=h.designatedVisualItemStyle,(0,n.__)(["color","colorAlpha","colorSaturation"],function(e){p[e]=d[e];var t=u.get(e);p[e]=null,null!=t&&(c[e]=t)}),c),m=s.ensureUniqueItemVisual(t.dataIndex,"style"),x=f.get("borderColor"),_=f.get("borderColorSaturation");null!=_&&(g=_,x=null!=(y=j(v))?(0,U.Yu)(y,null,null,g):null),m.stroke=x;var b=t.viewChildren;if(b&&b.length){var w=function(e,t,o,a,n,i){if(i&&i.length){var r=J(t,"color")||null!=n.color&&"none"!==n.color&&(J(t,"colorAlpha")||J(t,"colorSaturation"));if(r){var l=t.get("visualMin"),s=t.get("visualMax"),u=o.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=s&&s>u[1]&&(u[1]=s);var d=t.get("colorMappingBy"),h={type:r.name,dataExtent:u,visual:r.range};"color"===h.type&&("index"===d||"id"===d)?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var c=new Y.A(h);return q(c).drColorMappingBy=d,c}}}(0,r,l,0,v,b);(0,n.__)(b,function(t,o){if(t.depth>=a.length||t===a[t.depth]){var l=function(e,t,o,a,i,r){var l=(0,n.X$)({},t);if(i){var s=i.type,u="color"===s&&q(i).drColorMappingBy,d="index"===u?a:"id"===u?r.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));l[s]=i.mapValueToVisual(d)}return l}(r,v,t,o,w,i);e(t,l,a,i)}})}else m.fill=j(v)}}(t,{},e.getViewRoot().getAncestors(),e)}};function j(e){var t=$(e,"color");if(t){var o=$(e,"colorAlpha"),a=$(e,"colorSaturation");return a&&(t=(0,U.Yu)(t,null,null,a)),o&&(t=(0,U.hm)(t,o)),t}}function $(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function J(e,t){var o=e.get(t);return(0,n.cy)(o)&&o.length?{name:t,range:o}:null}var Q=o(99990),K=Math.max,ee=Math.min,et=n.Je,eo=n.__,ea=["itemStyle","borderWidth"],en=["itemStyle","gapWidth"],ei=["upperLabel","show"],er=["upperLabel","height"],el={seriesType:"treemap",reset:function(e,t,o,i){var r=e.option,l=w.Lj(e,o).refContainer,s=w.dV(e.getBoxLayoutParams(),l),u=r.size||[],d=(0,Q.lo)(et(s.width,u[0]),l.width),h=(0,Q.lo)(et(s.height,u[1]),l.height),c=i&&i.type,p=a.mw(i,["treemapZoomToNode","treemapRootToNode"],e),g="treemapRender"===c||"treemapMove"===c?i.rootRect:null,y=e.getViewRoot(),f=a.bl(y);if("treemapMove"!==c){var v="treemapZoomToNode"===c?function(e,t,o,a,n){var i,r=(t||{}).node,l=[a,n];if(!r||r===o)return l;for(var s=a*n,u=s*e.option.zoomToNodeRatio;i=r.parentNode;){for(var d=0,h=i.children,c=0,p=h.length;c<p;c++)d+=h[c].getValue();var g=r.getValue();if(0===g)return l;u*=d/g;var y=i.getModel(),f=y.get(ea),v=Math.max(f,eu(y));(u+=4*f*f+(3*f+v)*Math.pow(u,.5))>Q.Is&&(u=Q.Is),r=i}u<s&&(u=s);var m=Math.pow(u/s,.5);return[a*m,n*m]}(e,p,y,d,h):g?[g.width,g.height]:[d,h],m=r.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var x={squareRatio:r.squareRatio,sort:m,leafDepth:r.leafDepth};y.hostTree.clearLayouts();var _={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};y.setLayout(_),function e(t,o,a,i){if(!t.isRemoved()){var r,l,s=t.getLayout();r=s.width,l=s.height;var u=t.getModel(),d=u.get(ea),h=u.get(en)/2,c=eu(u),p=Math.max(d,c),g=d-h,y=p-h;t.setLayout({borderWidth:d,upperHeight:p,upperLabelHeight:c},!0);var f=(r=K(r-2*g,0))*(l=K(l-g-y,0)),v=function(e,t,o,a,i,r){var l,s,u=e.children||[],d=a.sort;"asc"!==d&&"desc"!==d&&(d=null);var h=null!=a.leafDepth&&a.leafDepth<=r;if(i&&!h)return e.viewChildren=[];l=u=n.pb(u,function(e){return!e.isRemoved()}),(s=d)&&l.sort(function(e,t){var o="asc"===s?e.getValue()-t.getValue():t.getValue()-e.getValue();return 0===o?"asc"===s?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:o});var c=function(e,t,o){for(var a,n=0,i=0,r=t.length;i<r;i++)n+=t[i].getValue();var l=e.get("visualDimension");return t&&t.length?"value"===l&&o?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&a.reverse()):(a=[1/0,-1/0],eo(t,function(e){var t=e.getValue(l);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)})):a=[NaN,NaN],{sum:n,dataExtent:a}}(t,u,d);if(0===c.sum||(c.sum=function(e,t,o,a,n){if(!a)return o;for(var i=e.get("visibleMin"),r=n.length,l=r,s=r-1;s>=0;s--){var u=n["asc"===a?r-s-1:s].getValue();u/o*t<i&&(l=s,o-=u)}return"asc"===a?n.splice(0,r-l):n.splice(l,r-l),o}(t,o,c.sum,d,u),0===c.sum))return e.viewChildren=[];for(var p=0,g=u.length;p<g;p++){var y=u[p].getValue()/c.sum*o;u[p].setLayout({area:y})}return h&&(u.length&&e.setLayout({isLeafRoot:!0},!0),u.length=0),e.viewChildren=u,e.setLayout({dataExtent:c.dataExtent},!0),u}(t,u,f,o,a,i);if(v.length){var m={x:g,y:y,width:r,height:l},x=ee(r,l),_=1/0,b=[];b.area=0;for(var w=0,S=v.length;w<S;){var A=v[w];b.push(A),b.area+=A.getLayout().area;var I=function(e,t,o){for(var a=0,n=1/0,i=0,r=void 0,l=e.length;i<l;i++)(r=e[i].getLayout().area)&&(r<n&&(n=r),r>a&&(a=r));var s=e.area*e.area,u=t*t*o;return s?K(u*a/s,s/(u*n)):1/0}(b,x,o.squareRatio);I<=_?(w++,_=I):(b.area-=b.pop().getLayout().area,es(b,x,m,h,!1),x=ee(m.width,m.height),b.length=b.area=0,_=1/0)}if(b.length&&es(b,x,m,h,!0),!a){var L=u.get("childrenVisibleMin");null!=L&&f<L&&(a=!0)}for(var w=0,S=v.length;w<S;w++)e(v[w],o,a,i+1)}}}(y,x,!1,0),_=y.getLayout(),eo(f,function(e,t){var o=(f[t+1]||y).getValue();e.setLayout(n.X$({dataExtent:[o,o],borderWidth:0,upperHeight:0},_))})}var b=e.getData().tree.root;b.setLayout(function(e,t,o){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!o)return a;var n=o.node,i=n.getLayout();if(!i)return a;for(var r=[i.width/2,i.height/2],l=n;l;){var s=l.getLayout();r[0]+=s.x,r[1]+=s.y,l=l.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}(s,g,p),!0),e.setLayoutInfo(s),function e(t,o,a,n,i){var r=t.getLayout(),l=a[i],s=l&&l===t;if((!l||s)&&(i!==a.length||t===n)){t.setLayout({isInView:!0,invisible:!s&&!o.intersect(r),isAboveViewRoot:s},!0);var u=new L.A(o.x-r.x,o.y-r.y,o.width,o.height);eo(t.viewChildren||[],function(t){e(t,u,a,n,i+1)})}}(b,new L.A(-s.x,-s.y,o.getWidth(),o.getHeight()),f,y,0)}};function es(e,t,o,a,n){var i=+(t!==o.width),r=1-i,l=["x","y"],s=["width","height"],u=o[l[i]],d=t?e.area/t:0;(n||d>o[s[r]])&&(d=o[s[r]]);for(var h=0,c=e.length;h<c;h++){var p=e[h],g={},y=d?p.getLayout().area/d:0,f=g[s[r]]=K(d-2*a,0),v=o[l[i]]+o[s[i]]-u,m=h===c-1||v<y?v:y,x=g[s[i]]=K(m-2*a,0);g[l[r]]=o[l[r]]+ee(a,f/2),g[l[i]]=u+ee(a,x/2),u+=m,p.setLayout(g,!0)}o[l[r]]+=d,o[s[r]]-=d}function eu(e){return e.get(ei)?e.get(er):0}function ed(e){e.registerSeriesModel(g),e.registerChartView(F),e.registerVisual(Z),e.registerLayout(el);for(var t=0;t<i.length;t++)e.registerAction({type:i[t],update:"updateView"},n.lQ);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,o){var n=a.mw(e,["treemapZoomToNode","treemapRootToNode"],t);if(n){var i=t.getViewRoot();i&&(e.direction=a.x5(i,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}})})}}}]);